/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["main~Se"],{

/***/ "./Services/index.js":
/*!***************************!*\
  !*** ./Services/index.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"requestLogout\": () => (/* reexport safe */ _logout__WEBPACK_IMPORTED_MODULE_0__.requestLogout),\n/* harmony export */   \"BinarySocketGeneral\": () => (/* reexport safe */ _socket_general__WEBPACK_IMPORTED_MODULE_1__.default),\n/* harmony export */   \"WS\": () => (/* reexport safe */ _ws_methods__WEBPACK_IMPORTED_MODULE_2__.default)\n/* harmony export */ });\n/* harmony import */ var _logout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logout */ \"./Services/logout.js\");\n/* harmony import */ var _socket_general__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./socket-general */ \"./Services/socket-general.js\");\n/* harmony import */ var _ws_methods__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ws-methods */ \"./Services/ws-methods.js\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1NlcnZpY2VzL2luZGV4LmpzPzdjZDkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9sb2dvdXQnO1xuZXhwb3J0IEJpbmFyeVNvY2tldEdlbmVyYWwgZnJvbSAnLi9zb2NrZXQtZ2VuZXJhbCc7XG5leHBvcnQgV1MgZnJvbSAnLi93cy1tZXRob2RzJztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Services/index.js\n");

/***/ }),

/***/ "./Services/logout.js":
/*!****************************!*\
  !*** ./Services/logout.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"requestLogout\": () => (/* binding */ requestLogout)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! _common/base/socket_cache */ \"./_common/base/socket_cache.js\");\n/* harmony import */ var _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ws_methods__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ws-methods */ \"./Services/ws-methods.js\");\n\n\n\nvar requestLogout = function requestLogout() {\n  return _ws_methods__WEBPACK_IMPORTED_MODULE_2__.default.logout().then(doLogout);\n};\n\nfunction endChat() {\n  var _window$LC_API, _window$LC_API$close_;\n\n  (_window$LC_API = window.LC_API) === null || _window$LC_API === void 0 ? void 0 : (_window$LC_API$close_ = _window$LC_API.close_chat) === null || _window$LC_API$close_ === void 0 ? void 0 : _window$LC_API$close_.call(_window$LC_API);\n}\n\nvar doLogout = function doLogout(response) {\n  if (response.logout !== 1) return undefined;\n  (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.removeCookies)('affiliate_token', 'affiliate_tracking', 'onfido_token');\n  _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_1___default().clear();\n  sessionStorage.clear();\n  endChat();\n  return response;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9sb2dvdXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TZXJ2aWNlcy9sb2dvdXQuanM/MjU4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW1vdmVDb29raWVzIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgU29ja2V0Q2FjaGUgZnJvbSAnX2NvbW1vbi9iYXNlL3NvY2tldF9jYWNoZSc7XG5pbXBvcnQgV1MgZnJvbSAnLi93cy1tZXRob2RzJztcblxuZXhwb3J0IGNvbnN0IHJlcXVlc3RMb2dvdXQgPSAoKSA9PiBXUy5sb2dvdXQoKS50aGVuKGRvTG9nb3V0KTtcblxuZnVuY3Rpb24gZW5kQ2hhdCgpIHtcbiAgICB3aW5kb3cuTENfQVBJPy5jbG9zZV9jaGF0Py4oKTtcbn1cblxuY29uc3QgZG9Mb2dvdXQgPSByZXNwb25zZSA9PiB7XG4gICAgaWYgKHJlc3BvbnNlLmxvZ291dCAhPT0gMSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZW1vdmVDb29raWVzKCdhZmZpbGlhdGVfdG9rZW4nLCAnYWZmaWxpYXRlX3RyYWNraW5nJywgJ29uZmlkb190b2tlbicpO1xuICAgIFNvY2tldENhY2hlLmNsZWFyKCk7XG4gICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcbiAgICBlbmRDaGF0KCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Services/logout.js\n");

/***/ }),

/***/ "./Services/network-monitor.js":
/*!*************************************!*\
  !*** ./Services/network-monitor.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! _common/base/network_monitor_base */ \"./_common/base/network_monitor_base.js\");\n/* harmony import */ var _common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ \"./Services/index.js\");\n\n // eslint-disable-line import/order\n\n\nvar common_store;\n\nvar NetworkMonitor = function () {\n  var init = function init(store) {\n    _common_base_network_monitor_base__WEBPACK_IMPORTED_MODULE_1___default().init(_index__WEBPACK_IMPORTED_MODULE_2__.BinarySocketGeneral.init(store), updateStore, store.client);\n    common_store = store.common;\n  };\n\n  var updateStore = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.action)(function (status, is_online) {\n    if (common_store) {\n      common_store.setNetworkStatus(status, is_online);\n    }\n  });\n  return {\n    init: init\n  };\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NetworkMonitor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9uZXR3b3JrLW1vbml0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TZXJ2aWNlcy9uZXR3b3JrLW1vbml0b3IuanM/MDY5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24gfSBmcm9tICdtb2J4JztcbmltcG9ydCBOZXR3b3JrTW9uaXRvckJhc2UgZnJvbSAnX2NvbW1vbi9iYXNlL25ldHdvcmtfbW9uaXRvcl9iYXNlJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvb3JkZXJcbmltcG9ydCB7IEJpbmFyeVNvY2tldEdlbmVyYWwgfSBmcm9tICcuL2luZGV4JztcblxubGV0IGNvbW1vbl9zdG9yZTtcblxuY29uc3QgTmV0d29ya01vbml0b3IgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGluaXQgPSBzdG9yZSA9PiB7XG4gICAgICAgIE5ldHdvcmtNb25pdG9yQmFzZS5pbml0KEJpbmFyeVNvY2tldEdlbmVyYWwuaW5pdChzdG9yZSksIHVwZGF0ZVN0b3JlLCBzdG9yZS5jbGllbnQpO1xuICAgICAgICBjb21tb25fc3RvcmUgPSBzdG9yZS5jb21tb247XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZVN0b3JlID0gYWN0aW9uKChzdGF0dXMsIGlzX29ubGluZSkgPT4ge1xuICAgICAgICBpZiAoY29tbW9uX3N0b3JlKSB7XG4gICAgICAgICAgICBjb21tb25fc3RvcmUuc2V0TmV0d29ya1N0YXR1cyhzdGF0dXMsIGlzX29ubGluZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQsXG4gICAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IE5ldHdvcmtNb25pdG9yO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Services/network-monitor.js\n");

/***/ }),

/***/ "./Services/socket-general.js":
/*!************************************!*\
  !*** ./Services/socket-general.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"../../../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _common_base_server_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! _common/base/server_time */ \"./_common/base/server_time.js\");\n/* harmony import */ var _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_common_base_server_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! _common/base/socket_base */ \"./_common/base/socket_base.js\");\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_base__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _ws_methods__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ws-methods */ \"./Services/ws-methods.js\");\n\n\n\n\n\n\n\nvar client_store, common_store, gtm_store; // TODO: update commented statements to the corresponding functions from app\n\nvar BinarySocketGeneral = function () {\n  var session_duration_limit, session_start_time, session_timeout;\n\n  var onDisconnect = function onDisconnect() {\n    common_store.setIsSocketOpened(false);\n  };\n\n  var onOpen = function onOpen(is_ready) {\n    if (is_ready) {\n      if (!client_store.is_valid_login) {\n        client_store.logout();\n        return;\n      }\n\n      _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.subscribeWebsiteStatus(ResponseHandlers.websiteStatus);\n      _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().init(function () {\n        return common_store.setServerTime(_common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().get());\n      });\n      common_store.setIsSocketOpened(true);\n    }\n  };\n\n  var onMessage = function onMessage(response) {\n    handleError(response); // Header.hideNotification('CONNECTION_ERROR');\n\n    switch (response.msg_type) {\n      case 'authorize':\n        if (response.error) {\n          var is_active_tab = sessionStorage.getItem('active_tab') === '1';\n\n          if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getPropertyValue)(response, ['error', 'code']) === 'SelfExclusion' && is_active_tab) {\n            sessionStorage.removeItem('active_tab'); // Dialog.alert({ id: 'authorize_error_alert', message: response.error.message });\n          }\n\n          client_store.logout();\n        } else if (!/authorize/.test(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.State.get('skip_response'))) {\n          // is_populating_account_list is a check to avoid logout on the first logged-in session\n          // In any other case, if the response loginid does not match the store's loginid, user must be logged out\n          if (response.authorize.loginid !== client_store.loginid && !client_store.is_populating_account_list && !client_store.is_switching) {\n            client_store.logout();\n          } else if (response.authorize.loginid === client_store.loginid) {\n            // All other cases continue with the loginid and authorize the profile\n            authorizeAccount(response);\n          }\n        }\n\n        break;\n\n      case 'landing_company':\n        // Header.upgradeMessageVisibility();\n        break;\n\n      case 'get_self_exclusion':\n        setSessionDurationLimit(response);\n        break;\n\n      case 'get_settings':\n        if (response.get_settings) {\n          setResidence(response.get_settings.country_code);\n          client_store.setEmail(response.get_settings.email);\n          client_store.setAccountSettings(response.get_settings);\n          gtm_store.eventHandler(response.get_settings);\n        }\n\n        break;\n\n      case 'set_account_currency':\n        _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.forgetAll('balance').then(subscribeBalances);\n        break;\n\n      case 'get_account_status':\n        client_store.setAccountStatus(response.get_account_status);\n        break;\n\n      case 'payout_currencies':\n        client_store.responsePayoutCurrencies(response.payout_currencies);\n        break;\n\n      case 'transaction':\n        gtm_store.pushTransactionData(response);\n        break;\n      // no default\n    }\n  };\n\n  var setResidence = function setResidence(residence) {\n    if (residence) {\n      client_store.setResidence(residence);\n      _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.landingCompany(residence);\n    }\n  };\n\n  var setSessionDurationLimit = function setSessionDurationLimit(user_limits) {\n    var _user_limits$get_self;\n\n    var duration = user_limits === null || user_limits === void 0 ? void 0 : (_user_limits$get_self = user_limits.get_self_exclusion) === null || _user_limits$get_self === void 0 ? void 0 : _user_limits$get_self.session_duration_limit;\n    session_start_time = new Date(sessionStorage.getItem('session_start_time') || _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().get());\n    sessionStorage.setItem('session_start_time', session_start_time);\n\n    if (duration && duration !== session_duration_limit) {\n      var current_session_duration = session_duration_limit ? _common_base_server_time__WEBPACK_IMPORTED_MODULE_4___default().get() - moment__WEBPACK_IMPORTED_MODULE_0___default()(session_start_time) : 0;\n      var remaining_session_time = duration * 60 * 1000 - current_session_duration;\n      clearTimeout(session_timeout);\n      session_timeout = setTimeout(function () {\n        client_store.logout();\n        sessionStorage.removeItem('session_start_time');\n      }, remaining_session_time);\n    } else if (!duration) {\n      clearTimeout(session_timeout);\n    }\n\n    session_duration_limit = duration;\n  };\n\n  var setBalanceActiveAccount = (0,mobx__WEBPACK_IMPORTED_MODULE_1__.flow)( /*#__PURE__*/regeneratorRuntime.mark(function _callee(obj_balance) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().wait('website_status');\n\n          case 2:\n            client_store.setBalanceActiveAccount(obj_balance);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  var setBalanceOtherAccounts = function setBalanceOtherAccounts(obj_balance) {\n    client_store.setBalanceOtherAccounts(obj_balance);\n  };\n\n  var handleError = function handleError(response) {\n    var msg_type = response.msg_type;\n    var error_code = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getPropertyValue)(response, ['error', 'code']);\n\n    switch (error_code) {\n      case 'WrongResponse':\n        // TODO: Remove condition checks below for WrongResponse once mt5 is more reliable\n        if (msg_type === 'mt5_login_list') {\n          _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.authorized.mt5LoginList().then(function (mt5_list_response) {\n            if (!mt5_list_response.error) {\n              client_store.responseMt5LoginList(mt5_list_response);\n              _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.balanceAll().then(function (balance_response) {\n                if (!balance_response.error) client_store.setBalanceOtherAccounts(balance_response.balance);\n              });\n            } else {\n              client_store.resetMt5ListPopulatedState();\n            }\n          });\n        } else if (msg_type === 'balance') {\n          _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.forgetAll('balance').then(subscribeBalances);\n        } else if (msg_type === 'get_account_status') {\n          _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.authorized.getAccountStatus().then(function (account_status_response) {\n            if (!account_status_response.error) {\n              client_store.setAccountStatus(account_status_response.get_account_status);\n            }\n          });\n        } else if (msg_type === 'landing_company') {\n          if (client_store.residence) {\n            _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.authorized.landingCompany(client_store.residence).then(function (landing_company_response) {\n              if (!landing_company_response.error) {\n                client_store.responseLandingCompany(landing_company_response);\n              }\n            });\n          }\n        }\n\n        break;\n\n      case 'InternalServerError':\n      case 'OutputValidationFailed':\n        {\n          if (msg_type !== 'mt5_login_list') {\n            common_store.setError(true, {\n              message: response.error.message\n            });\n          }\n\n          break;\n        }\n\n      case 'RateLimit':\n        if (msg_type !== 'cashier_password') {\n          common_store.setError(true, {\n            message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You have reached the rate limit of requests per second. Please try later.')\n          });\n        }\n\n        break;\n\n      case 'InvalidAppID':\n        common_store.setError(true, {\n          message: response.error.message\n        });\n        break;\n\n      case 'DisabledClient':\n        common_store.setError(true, {\n          message: response.error.message\n        });\n        break;\n\n      case 'InvalidToken':\n        if (['cashier', 'paymentagent_withdraw', 'reset_password', 'trading_platform_password_reset', 'trading_platform_investor_password_reset', 'new_account_virtual', 'p2p_advertiser_info', 'portfolio', 'proposal_open_contract'].includes(msg_type)) {\n          return;\n        }\n\n        if (!['reset_password'].includes(msg_type)) {\n          if (window.TrackJS) window.TrackJS.track('Custom InvalidToken error');\n        } // eslint-disable-next-line no-case-declarations\n\n\n        var active_platform = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getActivePlatform)(common_store.app_routing_history); // DBot handles this internally. Special case: 'client.invalid_token'\n\n        if (active_platform === 'DBot') return;\n        client_store.logout().then(function () {\n          var redirect_to = _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.trade;\n\n          if (active_platform === 'DMT5') {\n            redirect_to = _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.mt5;\n          }\n\n          common_store.routeTo(redirect_to);\n        });\n        break;\n\n      case 'AuthorizationRequired':\n        // if msg_type is coming from 'buy', behaviour should be handled in app itself.\n        if (msg_type === 'buy') {\n          return;\n        }\n\n        client_store.logout();\n        break;\n      // no default\n    }\n  };\n\n  var init = function init(store) {\n    client_store = store.client;\n    common_store = store.common;\n    gtm_store = store.gtm;\n    return {\n      onDisconnect: onDisconnect,\n      onOpen: onOpen,\n      onMessage: onMessage\n    };\n  };\n\n  var subscribeBalances = function subscribeBalances() {\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.subscribeBalanceAll(ResponseHandlers.balanceOtherAccounts);\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.subscribeBalanceActiveAccount(ResponseHandlers.balanceActiveAccount, client_store.loginid);\n  };\n\n  var authorizeAccount = function authorizeAccount(response) {\n    client_store.responseAuthorize(response);\n    subscribeBalances();\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.storage.getSettings();\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.getAccountStatus();\n    _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.storage.payoutCurrencies();\n\n    if (!client_store.is_virtual) {\n      _ws_methods__WEBPACK_IMPORTED_MODULE_6__.default.getSelfExclusion();\n    }\n\n    _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().sendBuffered();\n\n    if (/bch/i.test(response.authorize.currency) && !client_store.accounts[client_store.loginid].accepted_bch) {// showPopup({\n      //     url        : urlFor('user/warning'),\n      //     popup_id   : 'warning_popup',\n      //     form_id    : '#frm_warning',\n      //     content_id : '#warning_content',\n      //     validations: [{ selector: '#chk_accept', validations: [['req', { hide_asterisk: true }]] }],\n      //     onAccept   : () => { Client.set('accepted_bch', 1); },\n      // });\n    }\n  };\n\n  return {\n    init: init,\n    setBalanceActiveAccount: setBalanceActiveAccount,\n    setBalanceOtherAccounts: setBalanceOtherAccounts,\n    authorizeAccount: authorizeAccount\n  };\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BinarySocketGeneral);\n\nvar ResponseHandlers = function () {\n  var websiteStatus = function websiteStatus(response) {\n    if (response.website_status) {\n      var is_available = !_common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().isSiteDown(response.website_status.site_status);\n\n      if (is_available && _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().getAvailability().is_down) {\n        window.location.reload();\n        return;\n      }\n\n      var is_updating = _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().isSiteUpdating(response.website_status.site_status);\n\n      if (is_updating && !_common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().getAvailability().is_updating) {\n        // the existing connection is alive for one minute while status is updating\n        // switch to the new connection somewhere between 1-30 seconds from now\n        // to avoid everyone switching to the new connection at the same time\n        var rand_timeout = Math.floor(Math.random() * 30) + 1;\n        window.setTimeout(function () {\n          _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().closeAndOpenNewConnection();\n        }, rand_timeout * 1000);\n      }\n\n      _common_base_socket_base__WEBPACK_IMPORTED_MODULE_5___default().setAvailability(response.website_status.site_status);\n      client_store.setWebsiteStatus(response);\n    }\n  };\n\n  var balanceActiveAccount = function balanceActiveAccount(response) {\n    if (!response.error) {\n      BinarySocketGeneral.setBalanceActiveAccount(response.balance);\n    }\n  };\n\n  var balanceOtherAccounts = function balanceOtherAccounts(response) {\n    if (!response.error) {\n      BinarySocketGeneral.setBalanceOtherAccounts(response.balance);\n    }\n  };\n\n  return {\n    websiteStatus: websiteStatus,\n    balanceActiveAccount: balanceActiveAccount,\n    balanceOtherAccounts: balanceOtherAccounts\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy9zb2NrZXQtZ2VuZXJhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1NlcnZpY2VzL3NvY2tldC1nZW5lcmFsLmpzPzQxOWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgZmxvdyB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgU3RhdGUsIGdldEFjdGl2ZVBsYXRmb3JtLCBnZXRQcm9wZXJ0eVZhbHVlLCByb3V0ZXMgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgU2VydmVyVGltZSBmcm9tICdfY29tbW9uL2Jhc2Uvc2VydmVyX3RpbWUnO1xuaW1wb3J0IEJpbmFyeVNvY2tldCBmcm9tICdfY29tbW9uL2Jhc2Uvc29ja2V0X2Jhc2UnO1xuaW1wb3J0IFdTIGZyb20gJy4vd3MtbWV0aG9kcyc7XG5cbmxldCBjbGllbnRfc3RvcmUsIGNvbW1vbl9zdG9yZSwgZ3RtX3N0b3JlO1xuXG4vLyBUT0RPOiB1cGRhdGUgY29tbWVudGVkIHN0YXRlbWVudHMgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZnVuY3Rpb25zIGZyb20gYXBwXG5jb25zdCBCaW5hcnlTb2NrZXRHZW5lcmFsID0gKCgpID0+IHtcbiAgICBsZXQgc2Vzc2lvbl9kdXJhdGlvbl9saW1pdCwgc2Vzc2lvbl9zdGFydF90aW1lLCBzZXNzaW9uX3RpbWVvdXQ7XG5cbiAgICBjb25zdCBvbkRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbW1vbl9zdG9yZS5zZXRJc1NvY2tldE9wZW5lZChmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uT3BlbiA9IGlzX3JlYWR5ID0+IHtcbiAgICAgICAgaWYgKGlzX3JlYWR5KSB7XG4gICAgICAgICAgICBpZiAoIWNsaWVudF9zdG9yZS5pc192YWxpZF9sb2dpbikge1xuICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBXUy5zdWJzY3JpYmVXZWJzaXRlU3RhdHVzKFJlc3BvbnNlSGFuZGxlcnMud2Vic2l0ZVN0YXR1cyk7XG4gICAgICAgICAgICBTZXJ2ZXJUaW1lLmluaXQoKCkgPT4gY29tbW9uX3N0b3JlLnNldFNlcnZlclRpbWUoU2VydmVyVGltZS5nZXQoKSkpO1xuICAgICAgICAgICAgY29tbW9uX3N0b3JlLnNldElzU29ja2V0T3BlbmVkKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9uTWVzc2FnZSA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgaGFuZGxlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAvLyBIZWFkZXIuaGlkZU5vdGlmaWNhdGlvbignQ09OTkVDVElPTl9FUlJPUicpO1xuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLm1zZ190eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdhdXRob3JpemUnOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc19hY3RpdmVfdGFiID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlX3RhYicpID09PSAnMSc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXRQcm9wZXJ0eVZhbHVlKHJlc3BvbnNlLCBbJ2Vycm9yJywgJ2NvZGUnXSkgPT09ICdTZWxmRXhjbHVzaW9uJyAmJiBpc19hY3RpdmVfdGFiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdhY3RpdmVfdGFiJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaWFsb2cuYWxlcnQoeyBpZDogJ2F1dGhvcml6ZV9lcnJvcl9hbGVydCcsIG1lc3NhZ2U6IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLmxvZ291dCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIS9hdXRob3JpemUvLnRlc3QoU3RhdGUuZ2V0KCdza2lwX3Jlc3BvbnNlJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzX3BvcHVsYXRpbmdfYWNjb3VudF9saXN0IGlzIGEgY2hlY2sgdG8gYXZvaWQgbG9nb3V0IG9uIHRoZSBmaXJzdCBsb2dnZWQtaW4gc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbnkgb3RoZXIgY2FzZSwgaWYgdGhlIHJlc3BvbnNlIGxvZ2luaWQgZG9lcyBub3QgbWF0Y2ggdGhlIHN0b3JlJ3MgbG9naW5pZCwgdXNlciBtdXN0IGJlIGxvZ2dlZCBvdXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuYXV0aG9yaXplLmxvZ2luaWQgIT09IGNsaWVudF9zdG9yZS5sb2dpbmlkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhY2xpZW50X3N0b3JlLmlzX3BvcHVsYXRpbmdfYWNjb3VudF9saXN0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhY2xpZW50X3N0b3JlLmlzX3N3aXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5hdXRob3JpemUubG9naW5pZCA9PT0gY2xpZW50X3N0b3JlLmxvZ2luaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBvdGhlciBjYXNlcyBjb250aW51ZSB3aXRoIHRoZSBsb2dpbmlkIGFuZCBhdXRob3JpemUgdGhlIHByb2ZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZUFjY291bnQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGFuZGluZ19jb21wYW55JzpcbiAgICAgICAgICAgICAgICAvLyBIZWFkZXIudXBncmFkZU1lc3NhZ2VWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnZXRfc2VsZl9leGNsdXNpb24nOlxuICAgICAgICAgICAgICAgIHNldFNlc3Npb25EdXJhdGlvbkxpbWl0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2dldF9zZXR0aW5ncyc6XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmdldF9zZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICBzZXRSZXNpZGVuY2UocmVzcG9uc2UuZ2V0X3NldHRpbmdzLmNvdW50cnlfY29kZSk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5zZXRFbWFpbChyZXNwb25zZS5nZXRfc2V0dGluZ3MuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUuc2V0QWNjb3VudFNldHRpbmdzKHJlc3BvbnNlLmdldF9zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIGd0bV9zdG9yZS5ldmVudEhhbmRsZXIocmVzcG9uc2UuZ2V0X3NldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXRfYWNjb3VudF9jdXJyZW5jeSc6XG4gICAgICAgICAgICAgICAgV1MuZm9yZ2V0QWxsKCdiYWxhbmNlJykudGhlbihzdWJzY3JpYmVCYWxhbmNlcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnZXRfYWNjb3VudF9zdGF0dXMnOlxuICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5zZXRBY2NvdW50U3RhdHVzKHJlc3BvbnNlLmdldF9hY2NvdW50X3N0YXR1cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXlvdXRfY3VycmVuY2llcyc6XG4gICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLnJlc3BvbnNlUGF5b3V0Q3VycmVuY2llcyhyZXNwb25zZS5wYXlvdXRfY3VycmVuY2llcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFuc2FjdGlvbic6XG4gICAgICAgICAgICAgICAgZ3RtX3N0b3JlLnB1c2hUcmFuc2FjdGlvbkRhdGEocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gbm8gZGVmYXVsdFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldFJlc2lkZW5jZSA9IHJlc2lkZW5jZSA9PiB7XG4gICAgICAgIGlmIChyZXNpZGVuY2UpIHtcbiAgICAgICAgICAgIGNsaWVudF9zdG9yZS5zZXRSZXNpZGVuY2UocmVzaWRlbmNlKTtcbiAgICAgICAgICAgIFdTLmxhbmRpbmdDb21wYW55KHJlc2lkZW5jZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0U2Vzc2lvbkR1cmF0aW9uTGltaXQgPSB1c2VyX2xpbWl0cyA9PiB7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdXNlcl9saW1pdHM/LmdldF9zZWxmX2V4Y2x1c2lvbj8uc2Vzc2lvbl9kdXJhdGlvbl9saW1pdDtcblxuICAgICAgICBzZXNzaW9uX3N0YXJ0X3RpbWUgPSBuZXcgRGF0ZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uX3N0YXJ0X3RpbWUnKSB8fCBTZXJ2ZXJUaW1lLmdldCgpKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2Vzc2lvbl9zdGFydF90aW1lJywgc2Vzc2lvbl9zdGFydF90aW1lKTtcblxuICAgICAgICBpZiAoZHVyYXRpb24gJiYgZHVyYXRpb24gIT09IHNlc3Npb25fZHVyYXRpb25fbGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRfc2Vzc2lvbl9kdXJhdGlvbiA9IHNlc3Npb25fZHVyYXRpb25fbGltaXQgPyBTZXJ2ZXJUaW1lLmdldCgpIC0gbW9tZW50KHNlc3Npb25fc3RhcnRfdGltZSkgOiAwO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nX3Nlc3Npb25fdGltZSA9IGR1cmF0aW9uICogNjAgKiAxMDAwIC0gY3VycmVudF9zZXNzaW9uX2R1cmF0aW9uO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNlc3Npb25fdGltZW91dCk7XG4gICAgICAgICAgICBzZXNzaW9uX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUubG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnc2Vzc2lvbl9zdGFydF90aW1lJyk7XG4gICAgICAgICAgICB9LCByZW1haW5pbmdfc2Vzc2lvbl90aW1lKTtcbiAgICAgICAgfSBlbHNlIGlmICghZHVyYXRpb24pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzZXNzaW9uX3RpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2Vzc2lvbl9kdXJhdGlvbl9saW1pdCA9IGR1cmF0aW9uO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCYWxhbmNlQWN0aXZlQWNjb3VudCA9IGZsb3coZnVuY3Rpb24qIChvYmpfYmFsYW5jZSkge1xuICAgICAgICB5aWVsZCBCaW5hcnlTb2NrZXQud2FpdCgnd2Vic2l0ZV9zdGF0dXMnKTtcbiAgICAgICAgY2xpZW50X3N0b3JlLnNldEJhbGFuY2VBY3RpdmVBY2NvdW50KG9ial9iYWxhbmNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNldEJhbGFuY2VPdGhlckFjY291bnRzID0gb2JqX2JhbGFuY2UgPT4ge1xuICAgICAgICBjbGllbnRfc3RvcmUuc2V0QmFsYW5jZU90aGVyQWNjb3VudHMob2JqX2JhbGFuY2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgY29uc3QgbXNnX3R5cGUgPSByZXNwb25zZS5tc2dfdHlwZTtcbiAgICAgICAgY29uc3QgZXJyb3JfY29kZSA9IGdldFByb3BlcnR5VmFsdWUocmVzcG9uc2UsIFsnZXJyb3InLCAnY29kZSddKTtcbiAgICAgICAgc3dpdGNoIChlcnJvcl9jb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdXcm9uZ1Jlc3BvbnNlJzpcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY29uZGl0aW9uIGNoZWNrcyBiZWxvdyBmb3IgV3JvbmdSZXNwb25zZSBvbmNlIG10NSBpcyBtb3JlIHJlbGlhYmxlXG4gICAgICAgICAgICAgICAgaWYgKG1zZ190eXBlID09PSAnbXQ1X2xvZ2luX2xpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIFdTLmF1dGhvcml6ZWQubXQ1TG9naW5MaXN0KCkudGhlbihtdDVfbGlzdF9yZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW10NV9saXN0X3Jlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLnJlc3BvbnNlTXQ1TG9naW5MaXN0KG10NV9saXN0X3Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUy5iYWxhbmNlQWxsKCkudGhlbihiYWxhbmNlX3Jlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFiYWxhbmNlX3Jlc3BvbnNlLmVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLnNldEJhbGFuY2VPdGhlckFjY291bnRzKGJhbGFuY2VfcmVzcG9uc2UuYmFsYW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5yZXNldE10NUxpc3RQb3B1bGF0ZWRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1zZ190eXBlID09PSAnYmFsYW5jZScpIHtcbiAgICAgICAgICAgICAgICAgICAgV1MuZm9yZ2V0QWxsKCdiYWxhbmNlJykudGhlbihzdWJzY3JpYmVCYWxhbmNlcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtc2dfdHlwZSA9PT0gJ2dldF9hY2NvdW50X3N0YXR1cycpIHtcbiAgICAgICAgICAgICAgICAgICAgV1MuYXV0aG9yaXplZC5nZXRBY2NvdW50U3RhdHVzKCkudGhlbihhY2NvdW50X3N0YXR1c19yZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjY291bnRfc3RhdHVzX3Jlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3N0b3JlLnNldEFjY291bnRTdGF0dXMoYWNjb3VudF9zdGF0dXNfcmVzcG9uc2UuZ2V0X2FjY291bnRfc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtc2dfdHlwZSA9PT0gJ2xhbmRpbmdfY29tcGFueScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudF9zdG9yZS5yZXNpZGVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFdTLmF1dGhvcml6ZWQubGFuZGluZ0NvbXBhbnkoY2xpZW50X3N0b3JlLnJlc2lkZW5jZSkudGhlbihsYW5kaW5nX2NvbXBhbnlfcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFuZGluZ19jb21wYW55X3Jlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5yZXNwb25zZUxhbmRpbmdDb21wYW55KGxhbmRpbmdfY29tcGFueV9yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdJbnRlcm5hbFNlcnZlckVycm9yJzpcbiAgICAgICAgICAgIGNhc2UgJ091dHB1dFZhbGlkYXRpb25GYWlsZWQnOiB7XG4gICAgICAgICAgICAgICAgaWYgKG1zZ190eXBlICE9PSAnbXQ1X2xvZ2luX2xpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbl9zdG9yZS5zZXRFcnJvcih0cnVlLCB7IG1lc3NhZ2U6IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnUmF0ZUxpbWl0JzpcbiAgICAgICAgICAgICAgICBpZiAobXNnX3R5cGUgIT09ICdjYXNoaWVyX3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgICAgICAgICBjb21tb25fc3RvcmUuc2V0RXJyb3IodHJ1ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1lvdSBoYXZlIHJlYWNoZWQgdGhlIHJhdGUgbGltaXQgb2YgcmVxdWVzdHMgcGVyIHNlY29uZC4gUGxlYXNlIHRyeSBsYXRlci4nKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSW52YWxpZEFwcElEJzpcbiAgICAgICAgICAgICAgICBjb21tb25fc3RvcmUuc2V0RXJyb3IodHJ1ZSwgeyBtZXNzYWdlOiByZXNwb25zZS5lcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGlzYWJsZWRDbGllbnQnOlxuICAgICAgICAgICAgICAgIGNvbW1vbl9zdG9yZS5zZXRFcnJvcih0cnVlLCB7IG1lc3NhZ2U6IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdJbnZhbGlkVG9rZW4nOlxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2Nhc2hpZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BheW1lbnRhZ2VudF93aXRoZHJhdycsXG4gICAgICAgICAgICAgICAgICAgICAgICAncmVzZXRfcGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYWRpbmdfcGxhdGZvcm1fcGFzc3dvcmRfcmVzZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYWRpbmdfcGxhdGZvcm1faW52ZXN0b3JfcGFzc3dvcmRfcmVzZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25ld19hY2NvdW50X3ZpcnR1YWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3AycF9hZHZlcnRpc2VyX2luZm8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BvcnRmb2xpbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAncHJvcG9zYWxfb3Blbl9jb250cmFjdCcsXG4gICAgICAgICAgICAgICAgICAgIF0uaW5jbHVkZXMobXNnX3R5cGUpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFbJ3Jlc2V0X3Bhc3N3b3JkJ10uaW5jbHVkZXMobXNnX3R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuVHJhY2tKUykgd2luZG93LlRyYWNrSlMudHJhY2soJ0N1c3RvbSBJbnZhbGlkVG9rZW4gZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlX3BsYXRmb3JtID0gZ2V0QWN0aXZlUGxhdGZvcm0oY29tbW9uX3N0b3JlLmFwcF9yb3V0aW5nX2hpc3RvcnkpO1xuXG4gICAgICAgICAgICAgICAgLy8gREJvdCBoYW5kbGVzIHRoaXMgaW50ZXJuYWxseS4gU3BlY2lhbCBjYXNlOiAnY2xpZW50LmludmFsaWRfdG9rZW4nXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZV9wbGF0Zm9ybSA9PT0gJ0RCb3QnKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjbGllbnRfc3RvcmUubG9nb3V0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWRpcmVjdF90byA9IHJvdXRlcy50cmFkZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZV9wbGF0Zm9ybSA9PT0gJ0RNVDUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdF90byA9IHJvdXRlcy5tdDU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29tbW9uX3N0b3JlLnJvdXRlVG8ocmVkaXJlY3RfdG8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXV0aG9yaXphdGlvblJlcXVpcmVkJzpcbiAgICAgICAgICAgICAgICAvLyBpZiBtc2dfdHlwZSBpcyBjb21pbmcgZnJvbSAnYnV5JywgYmVoYXZpb3VyIHNob3VsZCBiZSBoYW5kbGVkIGluIGFwcCBpdHNlbGYuXG4gICAgICAgICAgICAgICAgaWYgKG1zZ190eXBlID09PSAnYnV5Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsaWVudF9zdG9yZS5sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIG5vIGRlZmF1bHRcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBpbml0ID0gc3RvcmUgPT4ge1xuICAgICAgICBjbGllbnRfc3RvcmUgPSBzdG9yZS5jbGllbnQ7XG4gICAgICAgIGNvbW1vbl9zdG9yZSA9IHN0b3JlLmNvbW1vbjtcbiAgICAgICAgZ3RtX3N0b3JlID0gc3RvcmUuZ3RtO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvbkRpc2Nvbm5lY3QsXG4gICAgICAgICAgICBvbk9wZW4sXG4gICAgICAgICAgICBvbk1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHN1YnNjcmliZUJhbGFuY2VzID0gKCkgPT4ge1xuICAgICAgICBXUy5zdWJzY3JpYmVCYWxhbmNlQWxsKFJlc3BvbnNlSGFuZGxlcnMuYmFsYW5jZU90aGVyQWNjb3VudHMpO1xuICAgICAgICBXUy5zdWJzY3JpYmVCYWxhbmNlQWN0aXZlQWNjb3VudChSZXNwb25zZUhhbmRsZXJzLmJhbGFuY2VBY3RpdmVBY2NvdW50LCBjbGllbnRfc3RvcmUubG9naW5pZCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGF1dGhvcml6ZUFjY291bnQgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGNsaWVudF9zdG9yZS5yZXNwb25zZUF1dGhvcml6ZShyZXNwb25zZSk7XG4gICAgICAgIHN1YnNjcmliZUJhbGFuY2VzKCk7XG4gICAgICAgIFdTLnN0b3JhZ2UuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgV1MuZ2V0QWNjb3VudFN0YXR1cygpO1xuICAgICAgICBXUy5zdG9yYWdlLnBheW91dEN1cnJlbmNpZXMoKTtcbiAgICAgICAgaWYgKCFjbGllbnRfc3RvcmUuaXNfdmlydHVhbCkge1xuICAgICAgICAgICAgV1MuZ2V0U2VsZkV4Y2x1c2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIEJpbmFyeVNvY2tldC5zZW5kQnVmZmVyZWQoKTtcbiAgICAgICAgaWYgKC9iY2gvaS50ZXN0KHJlc3BvbnNlLmF1dGhvcml6ZS5jdXJyZW5jeSkgJiYgIWNsaWVudF9zdG9yZS5hY2NvdW50c1tjbGllbnRfc3RvcmUubG9naW5pZF0uYWNjZXB0ZWRfYmNoKSB7XG4gICAgICAgICAgICAvLyBzaG93UG9wdXAoe1xuICAgICAgICAgICAgLy8gICAgIHVybCAgICAgICAgOiB1cmxGb3IoJ3VzZXIvd2FybmluZycpLFxuICAgICAgICAgICAgLy8gICAgIHBvcHVwX2lkICAgOiAnd2FybmluZ19wb3B1cCcsXG4gICAgICAgICAgICAvLyAgICAgZm9ybV9pZCAgICA6ICcjZnJtX3dhcm5pbmcnLFxuICAgICAgICAgICAgLy8gICAgIGNvbnRlbnRfaWQgOiAnI3dhcm5pbmdfY29udGVudCcsXG4gICAgICAgICAgICAvLyAgICAgdmFsaWRhdGlvbnM6IFt7IHNlbGVjdG9yOiAnI2Noa19hY2NlcHQnLCB2YWxpZGF0aW9uczogW1sncmVxJywgeyBoaWRlX2FzdGVyaXNrOiB0cnVlIH1dXSB9XSxcbiAgICAgICAgICAgIC8vICAgICBvbkFjY2VwdCAgIDogKCkgPT4geyBDbGllbnQuc2V0KCdhY2NlcHRlZF9iY2gnLCAxKTsgfSxcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQsXG4gICAgICAgIHNldEJhbGFuY2VBY3RpdmVBY2NvdW50LFxuICAgICAgICBzZXRCYWxhbmNlT3RoZXJBY2NvdW50cyxcbiAgICAgICAgYXV0aG9yaXplQWNjb3VudCxcbiAgICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgQmluYXJ5U29ja2V0R2VuZXJhbDtcblxuY29uc3QgUmVzcG9uc2VIYW5kbGVycyA9ICgoKSA9PiB7XG4gICAgY29uc3Qgd2Vic2l0ZVN0YXR1cyA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLndlYnNpdGVfc3RhdHVzKSB7XG4gICAgICAgICAgICBjb25zdCBpc19hdmFpbGFibGUgPSAhQmluYXJ5U29ja2V0LmlzU2l0ZURvd24ocmVzcG9uc2Uud2Vic2l0ZV9zdGF0dXMuc2l0ZV9zdGF0dXMpO1xuICAgICAgICAgICAgaWYgKGlzX2F2YWlsYWJsZSAmJiBCaW5hcnlTb2NrZXQuZ2V0QXZhaWxhYmlsaXR5KCkuaXNfZG93bikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc191cGRhdGluZyA9IEJpbmFyeVNvY2tldC5pc1NpdGVVcGRhdGluZyhyZXNwb25zZS53ZWJzaXRlX3N0YXR1cy5zaXRlX3N0YXR1cyk7XG4gICAgICAgICAgICBpZiAoaXNfdXBkYXRpbmcgJiYgIUJpbmFyeVNvY2tldC5nZXRBdmFpbGFiaWxpdHkoKS5pc191cGRhdGluZykge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBleGlzdGluZyBjb25uZWN0aW9uIGlzIGFsaXZlIGZvciBvbmUgbWludXRlIHdoaWxlIHN0YXR1cyBpcyB1cGRhdGluZ1xuICAgICAgICAgICAgICAgIC8vIHN3aXRjaCB0byB0aGUgbmV3IGNvbm5lY3Rpb24gc29tZXdoZXJlIGJldHdlZW4gMS0zMCBzZWNvbmRzIGZyb20gbm93XG4gICAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgZXZlcnlvbmUgc3dpdGNoaW5nIHRvIHRoZSBuZXcgY29ubmVjdGlvbiBhdCB0aGUgc2FtZSB0aW1lXG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZF90aW1lb3V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzApICsgMTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIEJpbmFyeVNvY2tldC5jbG9zZUFuZE9wZW5OZXdDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSwgcmFuZF90aW1lb3V0ICogMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCaW5hcnlTb2NrZXQuc2V0QXZhaWxhYmlsaXR5KHJlc3BvbnNlLndlYnNpdGVfc3RhdHVzLnNpdGVfc3RhdHVzKTtcbiAgICAgICAgICAgIGNsaWVudF9zdG9yZS5zZXRXZWJzaXRlU3RhdHVzKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBiYWxhbmNlQWN0aXZlQWNjb3VudCA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgQmluYXJ5U29ja2V0R2VuZXJhbC5zZXRCYWxhbmNlQWN0aXZlQWNjb3VudChyZXNwb25zZS5iYWxhbmNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBiYWxhbmNlT3RoZXJBY2NvdW50cyA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgQmluYXJ5U29ja2V0R2VuZXJhbC5zZXRCYWxhbmNlT3RoZXJBY2NvdW50cyhyZXNwb25zZS5iYWxhbmNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3ZWJzaXRlU3RhdHVzLFxuICAgICAgICBiYWxhbmNlQWN0aXZlQWNjb3VudCxcbiAgICAgICAgYmFsYW5jZU90aGVyQWNjb3VudHMsXG4gICAgfTtcbn0pKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFsREE7QUFvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFFQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTdGQTtBQStGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Services/socket-general.js\n");

/***/ }),

/***/ "./Services/ws-methods.js":
/*!********************************!*\
  !*** ./Services/ws-methods.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! _common/base/socket_base */ \"./_common/base/socket_base.js\");\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_base__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n\n\nvar WS = (_common_base_socket_base__WEBPACK_IMPORTED_MODULE_0___default());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.trackJSNetworkMonitor)(WS));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TZXJ2aWNlcy93cy1tZXRob2RzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vU2VydmljZXMvd3MtbWV0aG9kcy5qcz8xMzZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCaW5hcnlTb2NrZXQgZnJvbSAnX2NvbW1vbi9iYXNlL3NvY2tldF9iYXNlJztcbmltcG9ydCB7IHRyYWNrSlNOZXR3b3JrTW9uaXRvciB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5jb25zdCBXUyA9IEJpbmFyeVNvY2tldDtcblxuZXhwb3J0IGRlZmF1bHQgdHJhY2tKU05ldHdvcmtNb25pdG9yKFdTKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Services/ws-methods.js\n");

/***/ }),

/***/ "./Stores/Helpers/client-notifications.js":
/*!************************************************!*\
  !*** ./Stores/Helpers/client-notifications.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clientNotifications\": () => (/* binding */ clientNotifications),\n/* harmony export */   \"excluded_notifications\": () => (/* binding */ excluded_notifications),\n/* harmony export */   \"handleClientNotifications\": () => (/* binding */ handleClientNotifications)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/components */ \"../../components/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var App_Components_Routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! App/Components/Routes */ \"./App/Components/Routes/index.js\");\n/* harmony import */ var Services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! Services */ \"./Services/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n // TODO: Update links to app_2 links when components are done.\n\n/* eslint-disable react/jsx-no-target-blank */\n\nvar clientNotifications = function clientNotifications() {\n  var ui = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var client = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var notifications = {\n    dp2p: {\n      key: 'dp2p',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Payment problems?'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('There’s an app for that'),\n      primary_btn: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Learn more'),\n        onClick: function onClick() {\n          window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getStaticUrl)('/p2p'), '_blank');\n        }\n      },\n      img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/dp2p_banner.png'),\n      img_alt: 'DP2P',\n      type: 'news'\n    },\n    currency: {\n      action: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Set currency'),\n        onClick: function onClick() {\n          ui.toggleNotificationsModal();\n          ui.openRealAccountSignup('set_currency');\n        }\n      },\n      key: 'currency',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Set account currency'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please set the currency of your account to enable trading.'),\n      type: 'danger'\n    },\n    self_exclusion: function self_exclusion(excluded_until) {\n      var message, header, action;\n\n      if (client.is_uk) {\n        header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You’re taking a break from trading');\n        message = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n          i18n_default_text: \"You chose to exclude yourself from trading until {{exclusion_end}}. If you want to remove this self-exclusion, you can do so after {{exclusion_end}} by contacting Customer Support at +447723580049.\",\n          values: {\n            exclusion_end: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatDate)(excluded_until, 'DD/MM/YYYY'),\n            interpolation: {\n              escapeValue: false\n            }\n          }\n        });\n      } else if (client.is_eu) {\n        action = {\n          onClick: function onClick() {\n            return window.LC_API.open_chat_window();\n          },\n          text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Chat now')\n        };\n        header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You’re taking a break from trading');\n        message = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n          i18n_default_text: \"You chose to exclude yourself from trading until {{exclusion_end}}. If you want to remove this self-exclusion, you can do so at any time by contacting Customer Support via chat.\",\n          values: {\n            exclusion_end: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatDate)(excluded_until, 'DD/MM/YYYY'),\n            interpolation: {\n              escapeValue: false\n            }\n          }\n        });\n      } else {\n        header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Self-exclusion detected');\n        message = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n          i18n_default_text: \"You have opted to be excluded from {{website_domain}} until {{exclusion_end}}. Please <0>contact us</0> for assistance.\",\n          values: {\n            website_domain: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.website_name,\n            exclusion_end: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatDate)(excluded_until, 'DD/MM/YYYY'),\n            interpolation: {\n              escapeValue: false\n            }\n          },\n          components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_2__.StaticUrl, {\n            key: 0,\n            className: \"link\",\n            href: \"contact-us\"\n          })]\n        });\n      }\n\n      return {\n        key: 'self_exclusion',\n        header: header,\n        message: message,\n        action: action,\n        type: 'danger'\n      };\n    },\n    authenticate: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Authenticate')\n      },\n      key: 'authenticate',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Account authentication'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Authenticate your account now to take full advantage of all payment methods available.'),\n      type: 'info'\n    },\n    cashier_locked: {\n      key: 'cashier_locked',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Cashier disabled'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Deposits and withdrawals have been disabled on your account. Please check your email for more details.'),\n      type: 'warning'\n    },\n    system_maintenance: {\n      key: 'system_maintenance',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('System Maintenance'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"We\\u2019re updating our cashier system and it\\u2019ll be back online soon. Please see our <0>status page</0> for updates.\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", {\n          key: 0,\n          className: \"link\",\n          rel: \"noopener noreferrer\",\n          target: \"_blank\",\n          href: \"https://deriv.statuspage.io/\"\n        })]\n      }),\n      type: 'warning'\n    },\n    withdrawal_locked_review: {\n      key: 'withdrawal_locked_review',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Withdrawal disabled'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Withdrawals have been disabled on your account. Please wait until your uploaded documents are verified.'),\n      type: 'warning'\n    },\n    withdrawal_locked: {\n      key: 'withdrawal_locked',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Withdrawal disabled'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Withdrawals have been disabled on your account. Please check your email for more details.'),\n      type: 'warning'\n    },\n    mt5_withdrawal_locked: {\n      key: 'mt5_withdrawal_locked',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('MT5 withdrawal disabled'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('MT5 withdrawals have been disabled on your account. Please check your email for more details.'),\n      type: 'warning'\n    },\n    document_needs_action: {\n      key: 'document_needs_action',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Authentication failed'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"<0>Your Proof of Identity or Proof of Address</0> did not meet our requirements. Please check your email for further instructions.\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(App_Components_Routes__WEBPACK_IMPORTED_MODULE_4__.BinaryLink, {\n          key: 0,\n          className: \"link\",\n          to: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity\n        })]\n      }),\n      type: 'warning'\n    },\n    unwelcome: _objectSpread(_objectSpread({}, (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isMobile)() && {\n      action: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Contact us'),\n        onClick: function onClick(_ref) {\n          var is_dashboard = _ref.is_dashboard;\n          window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getStaticUrl)('contact-us', {\n            is_dashboard: is_dashboard\n          }));\n        }\n      }\n    }), {}, {\n      key: 'unwelcome',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Trading and deposits disabled'),\n      message: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isMobile)() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Trading and deposits have been disabled on your account. Kindly contact customer support for assistance.\"\n      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Trading and deposits have been disabled on your account. Kindly contact <0>customer support</0> for assistance.\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_2__.StaticUrl, {\n          key: 0,\n          className: \"link\",\n          href: \"contact-us\"\n        })]\n      }),\n      type: 'danger'\n    }),\n    max_turnover_limit_not_set: {\n      key: 'max_turnover_limit_not_set',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Remove deposit limits'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Please set your <0>30-day turnover limit</0> to remove deposit limits.\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(App_Components_Routes__WEBPACK_IMPORTED_MODULE_4__.BinaryLink, {\n          key: 0,\n          className: \"link\",\n          to: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit\n        })]\n      }),\n      type: 'danger'\n    },\n    risk: {\n      action: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Complete form'),\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.financial_assessment\n      },\n      key: 'risk',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Withdrawal and trading limits'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please complete the Financial Assessment form to lift your withdrawal and trading limits.'),\n      type: 'warning'\n    },\n    tax: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Complete details')\n      },\n      key: 'tax',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Complete your personal details'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please complete your Personal Details before you proceed.'),\n      type: 'danger'\n    },\n    tnc: {\n      action: {\n        onClick: function () {\n          var _onClick = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return Services__WEBPACK_IMPORTED_MODULE_5__.WS.tncApproval();\n\n                  case 2:\n                    Services__WEBPACK_IMPORTED_MODULE_5__.WS.getSettings();\n\n                  case 3:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function onClick() {\n            return _onClick.apply(this, arguments);\n          }\n\n          return onClick;\n        }(),\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('I accept')\n      },\n      key: 'tnc',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Terms & conditions updated'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Please accept our <0>updated Terms and Conditions</0> to proceed.\",\n        components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_2__.StaticUrl, {\n          key: 0,\n          className: \"link\",\n          href: \"terms-and-conditions\"\n        })]\n      }),\n      type: 'warning'\n    },\n    required_fields: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Complete details')\n      },\n      key: 'required_fields',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Complete your personal details'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please complete your Personal Details before you proceed.'),\n      type: 'danger'\n    },\n    you_are_offline: {\n      key: 'you_are_offline',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('You are offline'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Check your connection.\"\n      }),\n      type: 'danger'\n    },\n    password_changed: {\n      key: 'password_changed',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Password updated.'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"Please log in with your updated password.\"\n      }),\n      type: 'info'\n    },\n    reset_virtual_balance: {\n      key: 'reset_virtual_balance',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Reset your balance'),\n      message: client.message,\n      type: 'info',\n      is_persistent: true,\n      should_show_again: true,\n      platform: [_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.platform_name.DTrader],\n      is_disposable: true,\n      action: {\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Reset balance'),\n        onClick: function () {\n          var _onClick2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return client.resetVirtualBalance();\n\n                  case 2:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          function onClick() {\n            return _onClick2.apply(this, arguments);\n          }\n\n          return onClick;\n        }()\n      }\n    },\n    needs_poi: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify identity')\n      },\n      key: 'needs_poi',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please verify your proof of identity'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('To continue trading with us, please confirm who you are.'),\n      type: 'danger'\n    },\n    needs_poa: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_address,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify address')\n      },\n      key: 'needs_poa',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please verify your proof of address'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('To continue trading with us, please confirm where you live.'),\n      type: 'danger'\n    },\n    needs_poi_virtual: {\n      action: {\n        onClick: function () {\n          var _onClick3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n            var switchAccount, first_switchable_real_loginid;\n            return regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    switchAccount = client.switchAccount, first_switchable_real_loginid = client.first_switchable_real_loginid;\n                    _context3.next = 3;\n                    return switchAccount(first_switchable_real_loginid);\n\n                  case 3:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          function onClick() {\n            return _onClick3.apply(this, arguments);\n          }\n\n          return onClick;\n        }(),\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify identity')\n      },\n      key: 'needs_poi_virtual',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please Verify your identity'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('We couldn’t verify your personal details with our records, to enable deposit, withdrawals and trading, you need to upload proof of your identity.'),\n      type: 'danger'\n    },\n    needs_poa_virtual: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_address,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Verify address')\n      },\n      key: 'needs_poa_virtual',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Please Verify your address'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('We couldn’t verify your personal details with our records, to enable deposit, withdrawals and trading, you need to upload proof of your address.'),\n      type: 'danger'\n    },\n    poa_expired: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_address,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Proof of address')\n      },\n      key: 'poa_expired',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Document expired'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your documents for proof of address is expired. Please submit again.'),\n      type: 'danger'\n    },\n    poa_rejected: {\n      key: 'poa_rejected',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('We could not verify your proof of address'),\n      message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n        i18n_default_text: \"We have disabled trading, deposits and withdrawals for this account.\"\n      }),\n      type: 'danger'\n    },\n    poi_expired: {\n      action: {\n        route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Proof of identity')\n      },\n      key: 'poi_expired',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Proof of identity expired'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your proof of identity document has expired. Please submit a new one.'),\n      type: 'danger'\n    },\n    new_version_available: {\n      action: {\n        onClick: function onClick() {\n          return window.location.reload();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Refresh now')\n      },\n      key: 'new_version_available',\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('A new version of Deriv is available'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('This page will automatically refresh in 5 minutes to load the latest version.'),\n      type: 'warning',\n      should_hide_close_btn: true,\n      timeout: 300000,\n      timeoutMessage: function timeoutMessage(remaining) {\n        return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Auto update in {{ remaining }} seconds', {\n          remaining: remaining\n        });\n      }\n    },\n    install_pwa: {\n      key: 'install_pwa',\n      action: {\n        onClick: function onClick() {\n          return ui.installWithDeferredPrompt();\n        },\n        text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Install')\n      },\n      header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Install the DTrader web app'),\n      message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Launch DTrader in seconds the next time you want to trade.'),\n      type: 'announce',\n      should_hide_close_btn: false\n    }\n  };\n  return notifications;\n};\n\nvar hasMissingRequiredField = function hasMissingRequiredField(account_settings, client, isAccountOfType) {\n  if (!account_settings || (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(account_settings)) return false;\n  var is_svg = client.is_svg,\n      landing_company_shortcode = client.landing_company_shortcode; // TODO: [deriv-eu] refactor into its own function once more exceptions are added.\n\n  var required_fields;\n\n  if (is_svg) {\n    required_fields = getSVGRequiredFields();\n  } else {\n    required_fields = getRequiredFields();\n  }\n\n  return required_fields.some(function (field) {\n    return !account_settings[field];\n  });\n\n  function getSVGRequiredFields() {\n    var necessary_withdrawal_fields = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.State.getResponse('landing_company.financial_company.requirements.withdrawal') || [];\n    var necessary_signup_fields = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.State.getResponse('landing_company.financial_company.requirements.signup');\n    var necessary_signup_fields_mapped = necessary_signup_fields ? necessary_signup_fields.map(function (field) {\n      return field === 'residence' ? 'country' : field;\n    }) : [];\n    return [].concat(_toConsumableArray(necessary_withdrawal_fields), _toConsumableArray(necessary_signup_fields_mapped));\n  }\n\n  function getRequiredFields() {\n    if (!isAccountOfType('financial')) return [];\n    var residence = client.residence;\n    var required_settings_fields = ['account_opening_reason', 'address_line_1', 'address_city', 'phone', 'tax_identification_number', 'tax_residence'];\n    var address_postcode_is_required = residence === 'gb' || landing_company_shortcode === 'iom';\n    if (address_postcode_is_required) required_settings_fields.push('address_postcode');\n    return [].concat(required_settings_fields);\n  }\n};\n\nvar getStatusValidations = function getStatusValidations(status_arr) {\n  return status_arr.reduce(function (validations, stats) {\n    validations[stats] = true;\n    return validations;\n  }, {});\n};\n\nvar getCashierValidations = function getCashierValidations(cashier_arr) {\n  return cashier_arr.reduce(function (validations, code) {\n    validations[code] = true;\n    return validations;\n  }, {});\n};\n\nvar addVerificationNotifications = function addVerificationNotifications(identity, document, addNotificationMessage) {\n  if (identity.status === 'expired') addNotificationMessage(clientNotifications().poi_expired);\n  if (document.status === 'expired') addNotificationMessage(clientNotifications().poa_expired);\n};\n\nvar checkAccountStatus = function checkAccountStatus(account_status, client, addNotificationMessage, loginid, getRiskAssessment, shouldCompleteTax) {\n  if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(account_status)) return {};\n  if (loginid !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid')) return {};\n  var _account_status$authe = account_status.authentication,\n      document = _account_status$authe.document,\n      identity = _account_status$authe.identity,\n      needs_verification = _account_status$authe.needs_verification,\n      prompt_client_to_authenticate = account_status.prompt_client_to_authenticate,\n      risk_classification = account_status.risk_classification,\n      status = account_status.status,\n      cashier_validation = account_status.cashier_validation;\n\n  var _getStatusValidations = getStatusValidations(status),\n      authenticated = _getStatusValidations.authenticated,\n      cashier_locked = _getStatusValidations.cashier_locked,\n      withdrawal_locked = _getStatusValidations.withdrawal_locked,\n      mt5_withdrawal_locked = _getStatusValidations.mt5_withdrawal_locked,\n      document_needs_action = _getStatusValidations.document_needs_action,\n      unwelcome = _getStatusValidations.unwelcome,\n      max_turnover_limit_not_set = _getStatusValidations.max_turnover_limit_not_set,\n      allow_document_upload = _getStatusValidations.allow_document_upload;\n\n  var _ref2 = cashier_validation ? getCashierValidations(cashier_validation) : {},\n      system_maintenance = _ref2.system_maintenance;\n\n  addVerificationNotifications(identity, document, addNotificationMessage);\n  var should_show_max_turnover = client.landing_company_shortcode === 'iom' && max_turnover_limit_not_set;\n  var needs_authentication = needs_verification.length || allow_document_upload;\n  var has_risk_assessment = getRiskAssessment(account_status);\n  var needs_poa = needs_authentication && needs_verification.includes('document') && ((document === null || document === void 0 ? void 0 : document.status) !== 'expired' || (document === null || document === void 0 ? void 0 : document.status) !== 'pending');\n  var needs_poi = needs_authentication && needs_verification.includes('identity') && ((identity === null || identity === void 0 ? void 0 : identity.status) !== 'expired' || (identity === null || identity === void 0 ? void 0 : identity.status) !== 'pending');\n  if (needs_poa && !(document.status === 'expired')) addNotificationMessage(clientNotifications().needs_poa);\n  if (needs_poi && !(identity.status === 'expired')) addNotificationMessage(clientNotifications().needs_poi);\n  if (system_maintenance) addNotificationMessage(clientNotifications().system_maintenance);else if (cashier_locked) addNotificationMessage(clientNotifications().cashier_locked);else if (withdrawal_locked) {\n    // if client is withdrawal locked but it's because they need to authenticate\n    // and they have submitted verification documents,\n    // we should wait for review of documents to be done and show a different message\n    var is_high_risk = risk_classification === 'high';\n    var should_authenticate = !authenticated || prompt_client_to_authenticate;\n    var doc_is_under_review = document.status === 'pending';\n\n    if (is_high_risk && should_authenticate && doc_is_under_review) {\n      addNotificationMessage(clientNotifications().withdrawal_locked_review);\n    } else {\n      addNotificationMessage(clientNotifications().withdrawal_locked);\n    }\n  }\n  if (mt5_withdrawal_locked) addNotificationMessage(clientNotifications().mt5_withdrawal_locked);\n  if (document_needs_action) addNotificationMessage(clientNotifications().document_needs_action); // if client is unwelcome because they need to submit verification, we don't need to show unwelcome message as well\n\n  var should_hide_unwelcome = needs_verification.length || /^pending|expired$/.test(document.status) || /^pending|expired$/.test(identity.status);\n\n  if (unwelcome && !should_show_max_turnover && !should_hide_unwelcome) {\n    addNotificationMessage(clientNotifications().unwelcome);\n  }\n\n  if (has_risk_assessment) addNotificationMessage(clientNotifications().risk);\n  if (shouldCompleteTax(account_status)) addNotificationMessage(clientNotifications().tax);\n  if (should_show_max_turnover) addNotificationMessage(clientNotifications().max_turnover_limit_not_set);\n  return {\n    has_risk_assessment: has_risk_assessment\n  };\n};\n\nvar excluded_notifications = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isMobile)() ? ['contract_sold'] : ['you_are_offline', 'password_changed', 'switch_to_tick_chart', 'contract_sold', 'maintenance', 'bot_switch_account', 'new_version_available'];\nvar handleClientNotifications = function handleClientNotifications(client, client_store, ui_store, cashier_store) {\n  var currency = client.currency,\n      excluded_until = client.excluded_until;\n  var loginid = client_store.loginid,\n      account_status = client_store.account_status,\n      account_settings = client_store.account_settings,\n      getRiskAssessment = client_store.getRiskAssessment,\n      is_tnc_needed = client_store.is_tnc_needed,\n      isAccountOfType = client_store.isAccountOfType,\n      shouldCompleteTax = client_store.shouldCompleteTax;\n  var addNotificationMessage = ui_store.addNotificationMessage,\n      removeNotificationMessageByKey = ui_store.removeNotificationMessageByKey;\n  var is_p2p_visible = cashier_store.is_p2p_visible;\n  if (loginid !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid')) return {};\n  if (!currency) addNotificationMessage(clientNotifications(ui_store).currency);\n\n  if (excluded_until) {\n    addNotificationMessage(clientNotifications(ui_store, client_store).self_exclusion(excluded_until));\n  }\n\n  var _checkAccountStatus = checkAccountStatus(account_status, client, addNotificationMessage, loginid, getRiskAssessment, shouldCompleteTax),\n      has_risk_assessment = _checkAccountStatus.has_risk_assessment;\n\n  if (is_p2p_visible) {\n    addNotificationMessage(clientNotifications().dp2p);\n  } else {\n    removeNotificationMessageByKey({\n      key: clientNotifications().dp2p.key\n    });\n  }\n\n  if (is_tnc_needed) addNotificationMessage(clientNotifications(ui_store).tnc);\n  var has_missing_required_field = hasMissingRequiredField(account_settings, client, isAccountOfType);\n\n  if (has_missing_required_field) {\n    addNotificationMessage(clientNotifications(ui_store).required_fields);\n  }\n\n  return {\n    has_missing_required_field: has_missing_required_field,\n    has_risk_assessment: has_risk_assessment\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvSGVscGVycy9jbGllbnQtbm90aWZpY2F0aW9ucy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1N0b3Jlcy9IZWxwZXJzL2NsaWVudC1ub3RpZmljYXRpb25zLmpzP2YxYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gICAgZm9ybWF0RGF0ZSxcbiAgICBnZXRTdGF0aWNVcmwsXG4gICAgZ2V0VXJsQmFzZSxcbiAgICBpc0VtcHR5T2JqZWN0LFxuICAgIGlzTW9iaWxlLFxuICAgIExvY2FsU3RvcmUsXG4gICAgcm91dGVzLFxuICAgIFN0YXRlLFxuICAgIHdlYnNpdGVfbmFtZSxcbiAgICBwbGF0Zm9ybV9uYW1lLFxufSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IFN0YXRpY1VybCB9IGZyb20gJ0BkZXJpdi9jb21wb25lbnRzJztcbmltcG9ydCB7IGxvY2FsaXplLCBMb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgQmluYXJ5TGluayB9IGZyb20gJ0FwcC9Db21wb25lbnRzL1JvdXRlcyc7XG5pbXBvcnQgeyBXUyB9IGZyb20gJ1NlcnZpY2VzJztcblxuLy8gVE9ETzogVXBkYXRlIGxpbmtzIHRvIGFwcF8yIGxpbmtzIHdoZW4gY29tcG9uZW50cyBhcmUgZG9uZS5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L2pzeC1uby10YXJnZXQtYmxhbmsgKi9cbmV4cG9ydCBjb25zdCBjbGllbnROb3RpZmljYXRpb25zID0gKHVpID0ge30sIGNsaWVudCA9IHt9KSA9PiB7XG4gICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IHtcbiAgICAgICAgZHAycDoge1xuICAgICAgICAgICAga2V5OiAnZHAycCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdQYXltZW50IHByb2JsZW1zPycpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1RoZXJl4oCZcyBhbiBhcHAgZm9yIHRoYXQnKSxcbiAgICAgICAgICAgIHByaW1hcnlfYnRuOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0xlYXJuIG1vcmUnKSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGdldFN0YXRpY1VybCgnL3AycCcpLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbWdfc3JjOiBnZXRVcmxCYXNlKCcvcHVibGljL2ltYWdlcy9jb21tb24vZHAycF9iYW5uZXIucG5nJyksXG4gICAgICAgICAgICBpbWdfYWx0OiAnRFAyUCcsXG4gICAgICAgICAgICB0eXBlOiAnbmV3cycsXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbmN5OiB7XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnU2V0IGN1cnJlbmN5JyksXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1aS50b2dnbGVOb3RpZmljYXRpb25zTW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdWkub3BlblJlYWxBY2NvdW50U2lnbnVwKCdzZXRfY3VycmVuY3knKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1NldCBhY2NvdW50IGN1cnJlbmN5JyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIHNldCB0aGUgY3VycmVuY3kgb2YgeW91ciBhY2NvdW50IHRvIGVuYWJsZSB0cmFkaW5nLicpLFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGZfZXhjbHVzaW9uOiBleGNsdWRlZF91bnRpbCA9PiB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSwgaGVhZGVyLCBhY3Rpb247XG4gICAgICAgICAgICBpZiAoY2xpZW50LmlzX3VrKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gbG9jYWxpemUoJ1lvdeKAmXJlIHRha2luZyBhIGJyZWFrIGZyb20gdHJhZGluZycpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAoXG4gICAgICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9J1lvdSBjaG9zZSB0byBleGNsdWRlIHlvdXJzZWxmIGZyb20gdHJhZGluZyB1bnRpbCB7e2V4Y2x1c2lvbl9lbmR9fS4gSWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgc2VsZi1leGNsdXNpb24sIHlvdSBjYW4gZG8gc28gYWZ0ZXIge3tleGNsdXNpb25fZW5kfX0gYnkgY29udGFjdGluZyBDdXN0b21lciBTdXBwb3J0IGF0ICs0NDc3MjM1ODAwNDkuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVzaW9uX2VuZDogZm9ybWF0RGF0ZShleGNsdWRlZF91bnRpbCwgJ0REL01NL1lZWVknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uOiB7IGVzY2FwZVZhbHVlOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGllbnQuaXNfZXUpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHdpbmRvdy5MQ19BUEkub3Blbl9jaGF0X3dpbmRvdygpLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnQ2hhdCBub3cnKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IGxvY2FsaXplKCdZb3XigJlyZSB0YWtpbmcgYSBicmVhayBmcm9tIHRyYWRpbmcnKTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gKFxuICAgICAgICAgICAgICAgICAgICA8TG9jYWxpemVcbiAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5fZGVmYXVsdF90ZXh0PSdZb3UgY2hvc2UgdG8gZXhjbHVkZSB5b3Vyc2VsZiBmcm9tIHRyYWRpbmcgdW50aWwge3tleGNsdXNpb25fZW5kfX0uIElmIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIHNlbGYtZXhjbHVzaW9uLCB5b3UgY2FuIGRvIHNvIGF0IGFueSB0aW1lIGJ5IGNvbnRhY3RpbmcgQ3VzdG9tZXIgU3VwcG9ydCB2aWEgY2hhdC4nXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNsdXNpb25fZW5kOiBmb3JtYXREYXRlKGV4Y2x1ZGVkX3VudGlsLCAnREQvTU0vWVlZWScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb246IHsgZXNjYXBlVmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IGxvY2FsaXplKCdTZWxmLWV4Y2x1c2lvbiBkZXRlY3RlZCcpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAoXG4gICAgICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9J1lvdSBoYXZlIG9wdGVkIHRvIGJlIGV4Y2x1ZGVkIGZyb20ge3t3ZWJzaXRlX2RvbWFpbn19IHVudGlsIHt7ZXhjbHVzaW9uX2VuZH19LiBQbGVhc2UgPDA+Y29udGFjdCB1czwvMD4gZm9yIGFzc2lzdGFuY2UuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZV9kb21haW46IHdlYnNpdGVfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNsdXNpb25fZW5kOiBmb3JtYXREYXRlKGV4Y2x1ZGVkX3VudGlsLCAnREQvTU0vWVlZWScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb246IHsgZXNjYXBlVmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cz17WzxTdGF0aWNVcmwga2V5PXswfSBjbGFzc05hbWU9J2xpbmsnIGhyZWY9J2NvbnRhY3QtdXMnIC8+XX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdzZWxmX2V4Y2x1c2lvbicsXG4gICAgICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiB7XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2lkZW50aXR5LFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdBdXRoZW50aWNhdGUnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6ICdhdXRoZW50aWNhdGUnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnQWNjb3VudCBhdXRoZW50aWNhdGlvbicpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ0F1dGhlbnRpY2F0ZSB5b3VyIGFjY291bnQgbm93IHRvIHRha2UgZnVsbCBhZHZhbnRhZ2Ugb2YgYWxsIHBheW1lbnQgbWV0aG9kcyBhdmFpbGFibGUuJyksXG4gICAgICAgICAgICB0eXBlOiAnaW5mbycsXG4gICAgICAgIH0sXG4gICAgICAgIGNhc2hpZXJfbG9ja2VkOiB7XG4gICAgICAgICAgICBrZXk6ICdjYXNoaWVyX2xvY2tlZCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdDYXNoaWVyIGRpc2FibGVkJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAnRGVwb3NpdHMgYW5kIHdpdGhkcmF3YWxzIGhhdmUgYmVlbiBkaXNhYmxlZCBvbiB5b3VyIGFjY291bnQuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBtb3JlIGRldGFpbHMuJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3lzdGVtX21haW50ZW5hbmNlOiB7XG4gICAgICAgICAgICBrZXk6ICdzeXN0ZW1fbWFpbnRlbmFuY2UnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnU3lzdGVtIE1haW50ZW5hbmNlJyksXG4gICAgICAgICAgICBtZXNzYWdlOiAoXG4gICAgICAgICAgICAgICAgPExvY2FsaXplXG4gICAgICAgICAgICAgICAgICAgIGkxOG5fZGVmYXVsdF90ZXh0PSdXZeKAmXJlIHVwZGF0aW5nIG91ciBjYXNoaWVyIHN5c3RlbSBhbmQgaXTigJlsbCBiZSBiYWNrIG9ubGluZSBzb29uLiBQbGVhc2Ugc2VlIG91ciA8MD5zdGF0dXMgcGFnZTwvMD4gZm9yIHVwZGF0ZXMuJ1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2xpbmsnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsPSdub29wZW5lciBub3JlZmVycmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD0nX2JsYW5rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9J2h0dHBzOi8vZGVyaXYuc3RhdHVzcGFnZS5pby8nXG4gICAgICAgICAgICAgICAgICAgICAgICAvPixcbiAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgd2l0aGRyYXdhbF9sb2NrZWRfcmV2aWV3OiB7XG4gICAgICAgICAgICBrZXk6ICd3aXRoZHJhd2FsX2xvY2tlZF9yZXZpZXcnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnV2l0aGRyYXdhbCBkaXNhYmxlZCcpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ1dpdGhkcmF3YWxzIGhhdmUgYmVlbiBkaXNhYmxlZCBvbiB5b3VyIGFjY291bnQuIFBsZWFzZSB3YWl0IHVudGlsIHlvdXIgdXBsb2FkZWQgZG9jdW1lbnRzIGFyZSB2ZXJpZmllZC4nXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICB3aXRoZHJhd2FsX2xvY2tlZDoge1xuICAgICAgICAgICAga2V5OiAnd2l0aGRyYXdhbF9sb2NrZWQnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnV2l0aGRyYXdhbCBkaXNhYmxlZCcpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ1dpdGhkcmF3YWxzIGhhdmUgYmVlbiBkaXNhYmxlZCBvbiB5b3VyIGFjY291bnQuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBtb3JlIGRldGFpbHMuJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgbXQ1X3dpdGhkcmF3YWxfbG9ja2VkOiB7XG4gICAgICAgICAgICBrZXk6ICdtdDVfd2l0aGRyYXdhbF9sb2NrZWQnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnTVQ1IHdpdGhkcmF3YWwgZGlzYWJsZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdNVDUgd2l0aGRyYXdhbHMgaGF2ZSBiZWVuIGRpc2FibGVkIG9uIHlvdXIgYWNjb3VudC4gUGxlYXNlIGNoZWNrIHlvdXIgZW1haWwgZm9yIG1vcmUgZGV0YWlscy4nXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICBkb2N1bWVudF9uZWVkc19hY3Rpb246IHtcbiAgICAgICAgICAgIGtleTogJ2RvY3VtZW50X25lZWRzX2FjdGlvbicsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdBdXRoZW50aWNhdGlvbiBmYWlsZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IChcbiAgICAgICAgICAgICAgICA8TG9jYWxpemVcbiAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9JzwwPllvdXIgUHJvb2Ygb2YgSWRlbnRpdHkgb3IgUHJvb2Ygb2YgQWRkcmVzczwvMD4gZGlkIG5vdCBtZWV0IG91ciByZXF1aXJlbWVudHMuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBmdXJ0aGVyIGluc3RydWN0aW9ucy4nXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e1s8QmluYXJ5TGluayBrZXk9ezB9IGNsYXNzTmFtZT0nbGluaycgdG89e3JvdXRlcy5wcm9vZl9vZl9pZGVudGl0eX0gLz5dfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICB1bndlbGNvbWU6IHtcbiAgICAgICAgICAgIC4uLihpc01vYmlsZSgpICYmIHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0NvbnRhY3QgdXMnKSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKHsgaXNfZGFzaGJvYXJkIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGdldFN0YXRpY1VybCgnY29udGFjdC11cycsIHsgaXNfZGFzaGJvYXJkIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBrZXk6ICd1bndlbGNvbWUnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnVHJhZGluZyBhbmQgZGVwb3NpdHMgZGlzYWJsZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGlzTW9iaWxlKCkgPyAoXG4gICAgICAgICAgICAgICAgPExvY2FsaXplIGkxOG5fZGVmYXVsdF90ZXh0PSdUcmFkaW5nIGFuZCBkZXBvc2l0cyBoYXZlIGJlZW4gZGlzYWJsZWQgb24geW91ciBhY2NvdW50LiBLaW5kbHkgY29udGFjdCBjdXN0b21lciBzdXBwb3J0IGZvciBhc3Npc3RhbmNlLicgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPExvY2FsaXplXG4gICAgICAgICAgICAgICAgICAgIGkxOG5fZGVmYXVsdF90ZXh0PSdUcmFkaW5nIGFuZCBkZXBvc2l0cyBoYXZlIGJlZW4gZGlzYWJsZWQgb24geW91ciBhY2NvdW50LiBLaW5kbHkgY29udGFjdCA8MD5jdXN0b21lciBzdXBwb3J0PC8wPiBmb3IgYXNzaXN0YW5jZS4nXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e1s8U3RhdGljVXJsIGtleT17MH0gY2xhc3NOYW1lPSdsaW5rJyBocmVmPSdjb250YWN0LXVzJyAvPl19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWF4X3R1cm5vdmVyX2xpbWl0X25vdF9zZXQ6IHtcbiAgICAgICAgICAgIGtleTogJ21heF90dXJub3Zlcl9saW1pdF9ub3Rfc2V0JyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1JlbW92ZSBkZXBvc2l0IGxpbWl0cycpLFxuICAgICAgICAgICAgbWVzc2FnZTogKFxuICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICBpMThuX2RlZmF1bHRfdGV4dD0nUGxlYXNlIHNldCB5b3VyIDwwPjMwLWRheSB0dXJub3ZlciBsaW1pdDwvMD4gdG8gcmVtb3ZlIGRlcG9zaXQgbGltaXRzLidcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cz17WzxCaW5hcnlMaW5rIGtleT17MH0gY2xhc3NOYW1lPSdsaW5rJyB0bz17cm91dGVzLmNhc2hpZXJfZGVwb3NpdH0gLz5dfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHJpc2s6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdDb21wbGV0ZSBmb3JtJyksXG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5maW5hbmNpYWxfYXNzZXNzbWVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6ICdyaXNrJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1dpdGhkcmF3YWwgYW5kIHRyYWRpbmcgbGltaXRzJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAnUGxlYXNlIGNvbXBsZXRlIHRoZSBGaW5hbmNpYWwgQXNzZXNzbWVudCBmb3JtIHRvIGxpZnQgeW91ciB3aXRoZHJhd2FsIGFuZCB0cmFkaW5nIGxpbWl0cy4nXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICB0YXg6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucGVyc29uYWxfZGV0YWlscyxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnQ29tcGxldGUgZGV0YWlscycpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ3RheCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdDb21wbGV0ZSB5b3VyIHBlcnNvbmFsIGRldGFpbHMnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY29tcGxldGUgeW91ciBQZXJzb25hbCBEZXRhaWxzIGJlZm9yZSB5b3UgcHJvY2VlZC4nKSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICB0bmM6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgV1MudG5jQXBwcm92YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgV1MuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdJIGFjY2VwdCcpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ3RuYycsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdUZXJtcyAmIGNvbmRpdGlvbnMgdXBkYXRlZCcpLFxuICAgICAgICAgICAgbWVzc2FnZTogKFxuICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICBpMThuX2RlZmF1bHRfdGV4dD0nUGxlYXNlIGFjY2VwdCBvdXIgPDA+dXBkYXRlZCBUZXJtcyBhbmQgQ29uZGl0aW9uczwvMD4gdG8gcHJvY2VlZC4nXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e1s8U3RhdGljVXJsIGtleT17MH0gY2xhc3NOYW1lPSdsaW5rJyBocmVmPSd0ZXJtcy1hbmQtY29uZGl0aW9ucycgLz5dfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZF9maWVsZHM6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucGVyc29uYWxfZGV0YWlscyxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnQ29tcGxldGUgZGV0YWlscycpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ3JlcXVpcmVkX2ZpZWxkcycsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdDb21wbGV0ZSB5b3VyIHBlcnNvbmFsIGRldGFpbHMnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY29tcGxldGUgeW91ciBQZXJzb25hbCBEZXRhaWxzIGJlZm9yZSB5b3UgcHJvY2VlZC4nKSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICB5b3VfYXJlX29mZmxpbmU6IHtcbiAgICAgICAgICAgIGtleTogJ3lvdV9hcmVfb2ZmbGluZScsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3UgYXJlIG9mZmxpbmUnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IDxMb2NhbGl6ZSBpMThuX2RlZmF1bHRfdGV4dD0nQ2hlY2sgeW91ciBjb25uZWN0aW9uLicgLz4sXG4gICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgcGFzc3dvcmRfY2hhbmdlZDoge1xuICAgICAgICAgICAga2V5OiAncGFzc3dvcmRfY2hhbmdlZCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdQYXNzd29yZCB1cGRhdGVkLicpLFxuICAgICAgICAgICAgbWVzc2FnZTogPExvY2FsaXplIGkxOG5fZGVmYXVsdF90ZXh0PSdQbGVhc2UgbG9nIGluIHdpdGggeW91ciB1cGRhdGVkIHBhc3N3b3JkLicgLz4sXG4gICAgICAgICAgICB0eXBlOiAnaW5mbycsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0X3ZpcnR1YWxfYmFsYW5jZToge1xuICAgICAgICAgICAga2V5OiAncmVzZXRfdmlydHVhbF9iYWxhbmNlJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1Jlc2V0IHlvdXIgYmFsYW5jZScpLFxuICAgICAgICAgICAgbWVzc2FnZTogY2xpZW50Lm1lc3NhZ2UsXG4gICAgICAgICAgICB0eXBlOiAnaW5mbycsXG4gICAgICAgICAgICBpc19wZXJzaXN0ZW50OiB0cnVlLFxuICAgICAgICAgICAgc2hvdWxkX3Nob3dfYWdhaW46IHRydWUsXG4gICAgICAgICAgICBwbGF0Zm9ybTogW3BsYXRmb3JtX25hbWUuRFRyYWRlcl0sXG4gICAgICAgICAgICBpc19kaXNwb3NhYmxlOiB0cnVlLFxuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1Jlc2V0IGJhbGFuY2UnKSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5yZXNldFZpcnR1YWxCYWxhbmNlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG5lZWRzX3BvaToge1xuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wcm9vZl9vZl9pZGVudGl0eSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnVmVyaWZ5IGlkZW50aXR5JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5OiAnbmVlZHNfcG9pJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1BsZWFzZSB2ZXJpZnkgeW91ciBwcm9vZiBvZiBpZGVudGl0eScpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1RvIGNvbnRpbnVlIHRyYWRpbmcgd2l0aCB1cywgcGxlYXNlIGNvbmZpcm0gd2hvIHlvdSBhcmUuJyksXG4gICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgbmVlZHNfcG9hOiB7XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1ZlcmlmeSBhZGRyZXNzJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5OiAnbmVlZHNfcG9hJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1BsZWFzZSB2ZXJpZnkgeW91ciBwcm9vZiBvZiBhZGRyZXNzJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnVG8gY29udGludWUgdHJhZGluZyB3aXRoIHVzLCBwbGVhc2UgY29uZmlybSB3aGVyZSB5b3UgbGl2ZS4nKSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICBuZWVkc19wb2lfdmlydHVhbDoge1xuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHN3aXRjaEFjY291bnQsIGZpcnN0X3N3aXRjaGFibGVfcmVhbF9sb2dpbmlkIH0gPSBjbGllbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3dpdGNoQWNjb3VudChmaXJzdF9zd2l0Y2hhYmxlX3JlYWxfbG9naW5pZCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnVmVyaWZ5IGlkZW50aXR5JyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5OiAnbmVlZHNfcG9pX3ZpcnR1YWwnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnUGxlYXNlIFZlcmlmeSB5b3VyIGlkZW50aXR5JyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAnV2UgY291bGRu4oCZdCB2ZXJpZnkgeW91ciBwZXJzb25hbCBkZXRhaWxzIHdpdGggb3VyIHJlY29yZHMsIHRvIGVuYWJsZSBkZXBvc2l0LCB3aXRoZHJhd2FscyBhbmQgdHJhZGluZywgeW91IG5lZWQgdG8gdXBsb2FkIHByb29mIG9mIHlvdXIgaWRlbnRpdHkuJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICBuZWVkc19wb2FfdmlydHVhbDoge1xuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wcm9vZl9vZl9hZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdWZXJpZnkgYWRkcmVzcycpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ25lZWRzX3BvYV92aXJ0dWFsJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1BsZWFzZSBWZXJpZnkgeW91ciBhZGRyZXNzJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAnV2UgY291bGRu4oCZdCB2ZXJpZnkgeW91ciBwZXJzb25hbCBkZXRhaWxzIHdpdGggb3VyIHJlY29yZHMsIHRvIGVuYWJsZSBkZXBvc2l0LCB3aXRoZHJhd2FscyBhbmQgdHJhZGluZywgeW91IG5lZWQgdG8gdXBsb2FkIHByb29mIG9mIHlvdXIgYWRkcmVzcy4nXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHBvYV9leHBpcmVkOiB7XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1Byb29mIG9mIGFkZHJlc3MnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6ICdwb2FfZXhwaXJlZCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdEb2N1bWVudCBleHBpcmVkJyksXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnWW91ciBkb2N1bWVudHMgZm9yIHByb29mIG9mIGFkZHJlc3MgaXMgZXhwaXJlZC4gUGxlYXNlIHN1Ym1pdCBhZ2Fpbi4nKSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICBwb2FfcmVqZWN0ZWQ6IHtcbiAgICAgICAgICAgIGtleTogJ3BvYV9yZWplY3RlZCcsXG4gICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdXZSBjb3VsZCBub3QgdmVyaWZ5IHlvdXIgcHJvb2Ygb2YgYWRkcmVzcycpLFxuICAgICAgICAgICAgbWVzc2FnZTogKFxuICAgICAgICAgICAgICAgIDxMb2NhbGl6ZSBpMThuX2RlZmF1bHRfdGV4dD0nV2UgaGF2ZSBkaXNhYmxlZCB0cmFkaW5nLCBkZXBvc2l0cyBhbmQgd2l0aGRyYXdhbHMgZm9yIHRoaXMgYWNjb3VudC4nIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHBvaV9leHBpcmVkOiB7XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2lkZW50aXR5LFxuICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdQcm9vZiBvZiBpZGVudGl0eScpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleTogJ3BvaV9leHBpcmVkJyxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1Byb29mIG9mIGlkZW50aXR5IGV4cGlyZWQnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdZb3VyIHByb29mIG9mIGlkZW50aXR5IGRvY3VtZW50IGhhcyBleHBpcmVkLiBQbGVhc2Ugc3VibWl0IGEgbmV3IG9uZS4nKSxcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICB9LFxuICAgICAgICBuZXdfdmVyc2lvbl9hdmFpbGFibGU6IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnUmVmcmVzaCBub3cnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6ICduZXdfdmVyc2lvbl9hdmFpbGFibGUnLFxuICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnQSBuZXcgdmVyc2lvbiBvZiBEZXJpdiBpcyBhdmFpbGFibGUnKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdUaGlzIHBhZ2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHJlZnJlc2ggaW4gNSBtaW51dGVzIHRvIGxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uLicpLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgc2hvdWxkX2hpZGVfY2xvc2VfYnRuOiB0cnVlLFxuICAgICAgICAgICAgdGltZW91dDogMzAwMDAwLFxuICAgICAgICAgICAgdGltZW91dE1lc3NhZ2U6IHJlbWFpbmluZyA9PiBsb2NhbGl6ZSgnQXV0byB1cGRhdGUgaW4ge3sgcmVtYWluaW5nIH19IHNlY29uZHMnLCB7IHJlbWFpbmluZyB9KSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5zdGFsbF9wd2E6IHtcbiAgICAgICAgICAgIGtleTogJ2luc3RhbGxfcHdhJyxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHVpLmluc3RhbGxXaXRoRGVmZXJyZWRQcm9tcHQoKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnSW5zdGFsbCcpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ0luc3RhbGwgdGhlIERUcmFkZXIgd2ViIGFwcCcpLFxuICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ0xhdW5jaCBEVHJhZGVyIGluIHNlY29uZHMgdGhlIG5leHQgdGltZSB5b3Ugd2FudCB0byB0cmFkZS4nKSxcbiAgICAgICAgICAgIHR5cGU6ICdhbm5vdW5jZScsXG4gICAgICAgICAgICBzaG91bGRfaGlkZV9jbG9zZV9idG46IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIG5vdGlmaWNhdGlvbnM7XG59O1xuXG5jb25zdCBoYXNNaXNzaW5nUmVxdWlyZWRGaWVsZCA9IChhY2NvdW50X3NldHRpbmdzLCBjbGllbnQsIGlzQWNjb3VudE9mVHlwZSkgPT4ge1xuICAgIGlmICghYWNjb3VudF9zZXR0aW5ncyB8fCBpc0VtcHR5T2JqZWN0KGFjY291bnRfc2V0dGluZ3MpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCB7IGlzX3N2ZywgbGFuZGluZ19jb21wYW55X3Nob3J0Y29kZSB9ID0gY2xpZW50O1xuXG4gICAgLy8gVE9ETzogW2Rlcml2LWV1XSByZWZhY3RvciBpbnRvIGl0cyBvd24gZnVuY3Rpb24gb25jZSBtb3JlIGV4Y2VwdGlvbnMgYXJlIGFkZGVkLlxuICAgIGxldCByZXF1aXJlZF9maWVsZHM7XG4gICAgaWYgKGlzX3N2Zykge1xuICAgICAgICByZXF1aXJlZF9maWVsZHMgPSBnZXRTVkdSZXF1aXJlZEZpZWxkcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVpcmVkX2ZpZWxkcyA9IGdldFJlcXVpcmVkRmllbGRzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVpcmVkX2ZpZWxkcy5zb21lKGZpZWxkID0+ICFhY2NvdW50X3NldHRpbmdzW2ZpZWxkXSk7XG5cbiAgICBmdW5jdGlvbiBnZXRTVkdSZXF1aXJlZEZpZWxkcygpIHtcbiAgICAgICAgY29uc3QgbmVjZXNzYXJ5X3dpdGhkcmF3YWxfZmllbGRzID1cbiAgICAgICAgICAgIFN0YXRlLmdldFJlc3BvbnNlKCdsYW5kaW5nX2NvbXBhbnkuZmluYW5jaWFsX2NvbXBhbnkucmVxdWlyZW1lbnRzLndpdGhkcmF3YWwnKSB8fCBbXTtcbiAgICAgICAgY29uc3QgbmVjZXNzYXJ5X3NpZ251cF9maWVsZHMgPSBTdGF0ZS5nZXRSZXNwb25zZSgnbGFuZGluZ19jb21wYW55LmZpbmFuY2lhbF9jb21wYW55LnJlcXVpcmVtZW50cy5zaWdudXAnKTtcblxuICAgICAgICBjb25zdCBuZWNlc3Nhcnlfc2lnbnVwX2ZpZWxkc19tYXBwZWQgPSBuZWNlc3Nhcnlfc2lnbnVwX2ZpZWxkc1xuICAgICAgICAgICAgPyBuZWNlc3Nhcnlfc2lnbnVwX2ZpZWxkcy5tYXAoZmllbGQgPT4gKGZpZWxkID09PSAncmVzaWRlbmNlJyA/ICdjb3VudHJ5JyA6IGZpZWxkKSlcbiAgICAgICAgICAgIDogW107XG5cbiAgICAgICAgcmV0dXJuIFsuLi5uZWNlc3Nhcnlfd2l0aGRyYXdhbF9maWVsZHMsIC4uLm5lY2Vzc2FyeV9zaWdudXBfZmllbGRzX21hcHBlZF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UmVxdWlyZWRGaWVsZHMoKSB7XG4gICAgICAgIGlmICghaXNBY2NvdW50T2ZUeXBlKCdmaW5hbmNpYWwnKSkgcmV0dXJuIFtdO1xuXG4gICAgICAgIGNvbnN0IHsgcmVzaWRlbmNlIH0gPSBjbGllbnQ7XG4gICAgICAgIGNvbnN0IHJlcXVpcmVkX3NldHRpbmdzX2ZpZWxkcyA9IFtcbiAgICAgICAgICAgICdhY2NvdW50X29wZW5pbmdfcmVhc29uJyxcbiAgICAgICAgICAgICdhZGRyZXNzX2xpbmVfMScsXG4gICAgICAgICAgICAnYWRkcmVzc19jaXR5JyxcbiAgICAgICAgICAgICdwaG9uZScsXG4gICAgICAgICAgICAndGF4X2lkZW50aWZpY2F0aW9uX251bWJlcicsXG4gICAgICAgICAgICAndGF4X3Jlc2lkZW5jZScsXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgYWRkcmVzc19wb3N0Y29kZV9pc19yZXF1aXJlZCA9IHJlc2lkZW5jZSA9PT0gJ2diJyB8fCBsYW5kaW5nX2NvbXBhbnlfc2hvcnRjb2RlID09PSAnaW9tJztcbiAgICAgICAgaWYgKGFkZHJlc3NfcG9zdGNvZGVfaXNfcmVxdWlyZWQpIHJlcXVpcmVkX3NldHRpbmdzX2ZpZWxkcy5wdXNoKCdhZGRyZXNzX3Bvc3Rjb2RlJyk7XG5cbiAgICAgICAgcmV0dXJuIFsuLi5yZXF1aXJlZF9zZXR0aW5nc19maWVsZHNdO1xuICAgIH1cbn07XG5cbmNvbnN0IGdldFN0YXR1c1ZhbGlkYXRpb25zID0gc3RhdHVzX2FyciA9PiB7XG4gICAgcmV0dXJuIHN0YXR1c19hcnIucmVkdWNlKCh2YWxpZGF0aW9ucywgc3RhdHMpID0+IHtcbiAgICAgICAgdmFsaWRhdGlvbnNbc3RhdHNdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25zO1xuICAgIH0sIHt9KTtcbn07XG5cbmNvbnN0IGdldENhc2hpZXJWYWxpZGF0aW9ucyA9IGNhc2hpZXJfYXJyID0+IHtcbiAgICByZXR1cm4gY2FzaGllcl9hcnIucmVkdWNlKCh2YWxpZGF0aW9ucywgY29kZSkgPT4ge1xuICAgICAgICB2YWxpZGF0aW9uc1tjb2RlXSA9IHRydWU7XG4gICAgICAgIHJldHVybiB2YWxpZGF0aW9ucztcbiAgICB9LCB7fSk7XG59O1xuXG5jb25zdCBhZGRWZXJpZmljYXRpb25Ob3RpZmljYXRpb25zID0gKGlkZW50aXR5LCBkb2N1bWVudCwgYWRkTm90aWZpY2F0aW9uTWVzc2FnZSkgPT4ge1xuICAgIGlmIChpZGVudGl0eS5zdGF0dXMgPT09ICdleHBpcmVkJykgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkucG9pX2V4cGlyZWQpO1xuXG4gICAgaWYgKGRvY3VtZW50LnN0YXR1cyA9PT0gJ2V4cGlyZWQnKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5wb2FfZXhwaXJlZCk7XG59O1xuXG5jb25zdCBjaGVja0FjY291bnRTdGF0dXMgPSAoXG4gICAgYWNjb3VudF9zdGF0dXMsXG4gICAgY2xpZW50LFxuICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UsXG4gICAgbG9naW5pZCxcbiAgICBnZXRSaXNrQXNzZXNzbWVudCxcbiAgICBzaG91bGRDb21wbGV0ZVRheFxuKSA9PiB7XG4gICAgaWYgKGlzRW1wdHlPYmplY3QoYWNjb3VudF9zdGF0dXMpKSByZXR1cm4ge307XG4gICAgaWYgKGxvZ2luaWQgIT09IExvY2FsU3RvcmUuZ2V0KCdhY3RpdmVfbG9naW5pZCcpKSByZXR1cm4ge307XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGF1dGhlbnRpY2F0aW9uOiB7IGRvY3VtZW50LCBpZGVudGl0eSwgbmVlZHNfdmVyaWZpY2F0aW9uIH0sXG4gICAgICAgIHByb21wdF9jbGllbnRfdG9fYXV0aGVudGljYXRlLFxuICAgICAgICByaXNrX2NsYXNzaWZpY2F0aW9uLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGNhc2hpZXJfdmFsaWRhdGlvbixcbiAgICB9ID0gYWNjb3VudF9zdGF0dXM7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGF1dGhlbnRpY2F0ZWQsXG4gICAgICAgIGNhc2hpZXJfbG9ja2VkLFxuICAgICAgICB3aXRoZHJhd2FsX2xvY2tlZCxcbiAgICAgICAgbXQ1X3dpdGhkcmF3YWxfbG9ja2VkLFxuICAgICAgICBkb2N1bWVudF9uZWVkc19hY3Rpb24sXG4gICAgICAgIHVud2VsY29tZSxcbiAgICAgICAgbWF4X3R1cm5vdmVyX2xpbWl0X25vdF9zZXQsXG4gICAgICAgIGFsbG93X2RvY3VtZW50X3VwbG9hZCxcbiAgICB9ID0gZ2V0U3RhdHVzVmFsaWRhdGlvbnMoc3RhdHVzKTtcblxuICAgIGNvbnN0IHsgc3lzdGVtX21haW50ZW5hbmNlIH0gPSBjYXNoaWVyX3ZhbGlkYXRpb24gPyBnZXRDYXNoaWVyVmFsaWRhdGlvbnMoY2FzaGllcl92YWxpZGF0aW9uKSA6IHt9O1xuXG4gICAgYWRkVmVyaWZpY2F0aW9uTm90aWZpY2F0aW9ucyhpZGVudGl0eSwgZG9jdW1lbnQsIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UpO1xuXG4gICAgY29uc3Qgc2hvdWxkX3Nob3dfbWF4X3R1cm5vdmVyID0gY2xpZW50LmxhbmRpbmdfY29tcGFueV9zaG9ydGNvZGUgPT09ICdpb20nICYmIG1heF90dXJub3Zlcl9saW1pdF9ub3Rfc2V0O1xuXG4gICAgY29uc3QgbmVlZHNfYXV0aGVudGljYXRpb24gPSBuZWVkc192ZXJpZmljYXRpb24ubGVuZ3RoIHx8IGFsbG93X2RvY3VtZW50X3VwbG9hZDtcbiAgICBjb25zdCBoYXNfcmlza19hc3Nlc3NtZW50ID0gZ2V0Umlza0Fzc2Vzc21lbnQoYWNjb3VudF9zdGF0dXMpO1xuICAgIGNvbnN0IG5lZWRzX3BvYSA9XG4gICAgICAgIG5lZWRzX2F1dGhlbnRpY2F0aW9uICYmXG4gICAgICAgIG5lZWRzX3ZlcmlmaWNhdGlvbi5pbmNsdWRlcygnZG9jdW1lbnQnKSAmJlxuICAgICAgICAoZG9jdW1lbnQ/LnN0YXR1cyAhPT0gJ2V4cGlyZWQnIHx8IGRvY3VtZW50Py5zdGF0dXMgIT09ICdwZW5kaW5nJyk7XG4gICAgY29uc3QgbmVlZHNfcG9pID1cbiAgICAgICAgbmVlZHNfYXV0aGVudGljYXRpb24gJiZcbiAgICAgICAgbmVlZHNfdmVyaWZpY2F0aW9uLmluY2x1ZGVzKCdpZGVudGl0eScpICYmXG4gICAgICAgIChpZGVudGl0eT8uc3RhdHVzICE9PSAnZXhwaXJlZCcgfHwgaWRlbnRpdHk/LnN0YXR1cyAhPT0gJ3BlbmRpbmcnKTtcblxuICAgIGlmIChuZWVkc19wb2EgJiYgIShkb2N1bWVudC5zdGF0dXMgPT09ICdleHBpcmVkJykpIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLm5lZWRzX3BvYSk7XG4gICAgaWYgKG5lZWRzX3BvaSAmJiAhKGlkZW50aXR5LnN0YXR1cyA9PT0gJ2V4cGlyZWQnKSkgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkubmVlZHNfcG9pKTtcbiAgICBpZiAoc3lzdGVtX21haW50ZW5hbmNlKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5zeXN0ZW1fbWFpbnRlbmFuY2UpO1xuICAgIGVsc2UgaWYgKGNhc2hpZXJfbG9ja2VkKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5jYXNoaWVyX2xvY2tlZCk7XG4gICAgZWxzZSBpZiAod2l0aGRyYXdhbF9sb2NrZWQpIHtcbiAgICAgICAgLy8gaWYgY2xpZW50IGlzIHdpdGhkcmF3YWwgbG9ja2VkIGJ1dCBpdCdzIGJlY2F1c2UgdGhleSBuZWVkIHRvIGF1dGhlbnRpY2F0ZVxuICAgICAgICAvLyBhbmQgdGhleSBoYXZlIHN1Ym1pdHRlZCB2ZXJpZmljYXRpb24gZG9jdW1lbnRzLFxuICAgICAgICAvLyB3ZSBzaG91bGQgd2FpdCBmb3IgcmV2aWV3IG9mIGRvY3VtZW50cyB0byBiZSBkb25lIGFuZCBzaG93IGEgZGlmZmVyZW50IG1lc3NhZ2VcbiAgICAgICAgY29uc3QgaXNfaGlnaF9yaXNrID0gcmlza19jbGFzc2lmaWNhdGlvbiA9PT0gJ2hpZ2gnO1xuICAgICAgICBjb25zdCBzaG91bGRfYXV0aGVudGljYXRlID0gIWF1dGhlbnRpY2F0ZWQgfHwgcHJvbXB0X2NsaWVudF90b19hdXRoZW50aWNhdGU7XG4gICAgICAgIGNvbnN0IGRvY19pc191bmRlcl9yZXZpZXcgPSBkb2N1bWVudC5zdGF0dXMgPT09ICdwZW5kaW5nJztcbiAgICAgICAgaWYgKGlzX2hpZ2hfcmlzayAmJiBzaG91bGRfYXV0aGVudGljYXRlICYmIGRvY19pc191bmRlcl9yZXZpZXcpIHtcbiAgICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucygpLndpdGhkcmF3YWxfbG9ja2VkX3Jldmlldyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS53aXRoZHJhd2FsX2xvY2tlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG10NV93aXRoZHJhd2FsX2xvY2tlZCkgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkubXQ1X3dpdGhkcmF3YWxfbG9ja2VkKTtcbiAgICBpZiAoZG9jdW1lbnRfbmVlZHNfYWN0aW9uKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5kb2N1bWVudF9uZWVkc19hY3Rpb24pO1xuXG4gICAgLy8gaWYgY2xpZW50IGlzIHVud2VsY29tZSBiZWNhdXNlIHRoZXkgbmVlZCB0byBzdWJtaXQgdmVyaWZpY2F0aW9uLCB3ZSBkb24ndCBuZWVkIHRvIHNob3cgdW53ZWxjb21lIG1lc3NhZ2UgYXMgd2VsbFxuICAgIGNvbnN0IHNob3VsZF9oaWRlX3Vud2VsY29tZSA9XG4gICAgICAgIG5lZWRzX3ZlcmlmaWNhdGlvbi5sZW5ndGggfHxcbiAgICAgICAgL15wZW5kaW5nfGV4cGlyZWQkLy50ZXN0KGRvY3VtZW50LnN0YXR1cykgfHxcbiAgICAgICAgL15wZW5kaW5nfGV4cGlyZWQkLy50ZXN0KGlkZW50aXR5LnN0YXR1cyk7XG5cbiAgICBpZiAodW53ZWxjb21lICYmICFzaG91bGRfc2hvd19tYXhfdHVybm92ZXIgJiYgIXNob3VsZF9oaWRlX3Vud2VsY29tZSkge1xuICAgICAgICBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS51bndlbGNvbWUpO1xuICAgIH1cblxuICAgIGlmIChoYXNfcmlza19hc3Nlc3NtZW50KSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5yaXNrKTtcbiAgICBpZiAoc2hvdWxkQ29tcGxldGVUYXgoYWNjb3VudF9zdGF0dXMpKSBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS50YXgpO1xuXG4gICAgaWYgKHNob3VsZF9zaG93X21heF90dXJub3ZlcikgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKCkubWF4X3R1cm5vdmVyX2xpbWl0X25vdF9zZXQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzX3Jpc2tfYXNzZXNzbWVudCxcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGV4Y2x1ZGVkX25vdGlmaWNhdGlvbnMgPSBpc01vYmlsZSgpXG4gICAgPyBbJ2NvbnRyYWN0X3NvbGQnXVxuICAgIDogW1xuICAgICAgICAgICd5b3VfYXJlX29mZmxpbmUnLFxuICAgICAgICAgICdwYXNzd29yZF9jaGFuZ2VkJyxcbiAgICAgICAgICAnc3dpdGNoX3RvX3RpY2tfY2hhcnQnLFxuICAgICAgICAgICdjb250cmFjdF9zb2xkJyxcbiAgICAgICAgICAnbWFpbnRlbmFuY2UnLFxuICAgICAgICAgICdib3Rfc3dpdGNoX2FjY291bnQnLFxuICAgICAgICAgICduZXdfdmVyc2lvbl9hdmFpbGFibGUnLFxuICAgICAgXTtcblxuZXhwb3J0IGNvbnN0IGhhbmRsZUNsaWVudE5vdGlmaWNhdGlvbnMgPSAoY2xpZW50LCBjbGllbnRfc3RvcmUsIHVpX3N0b3JlLCBjYXNoaWVyX3N0b3JlKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW5jeSwgZXhjbHVkZWRfdW50aWwgfSA9IGNsaWVudDtcbiAgICBjb25zdCB7XG4gICAgICAgIGxvZ2luaWQsXG4gICAgICAgIGFjY291bnRfc3RhdHVzLFxuICAgICAgICBhY2NvdW50X3NldHRpbmdzLFxuICAgICAgICBnZXRSaXNrQXNzZXNzbWVudCxcbiAgICAgICAgaXNfdG5jX25lZWRlZCxcbiAgICAgICAgaXNBY2NvdW50T2ZUeXBlLFxuICAgICAgICBzaG91bGRDb21wbGV0ZVRheCxcbiAgICB9ID0gY2xpZW50X3N0b3JlO1xuICAgIGNvbnN0IHsgYWRkTm90aWZpY2F0aW9uTWVzc2FnZSwgcmVtb3ZlTm90aWZpY2F0aW9uTWVzc2FnZUJ5S2V5IH0gPSB1aV9zdG9yZTtcbiAgICBjb25zdCB7IGlzX3AycF92aXNpYmxlIH0gPSBjYXNoaWVyX3N0b3JlO1xuXG4gICAgaWYgKGxvZ2luaWQgIT09IExvY2FsU3RvcmUuZ2V0KCdhY3RpdmVfbG9naW5pZCcpKSByZXR1cm4ge307XG4gICAgaWYgKCFjdXJyZW5jeSkgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKHVpX3N0b3JlKS5jdXJyZW5jeSk7XG4gICAgaWYgKGV4Y2x1ZGVkX3VudGlsKSB7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucyh1aV9zdG9yZSwgY2xpZW50X3N0b3JlKS5zZWxmX2V4Y2x1c2lvbihleGNsdWRlZF91bnRpbCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaGFzX3Jpc2tfYXNzZXNzbWVudCB9ID0gY2hlY2tBY2NvdW50U3RhdHVzKFxuICAgICAgICBhY2NvdW50X3N0YXR1cyxcbiAgICAgICAgY2xpZW50LFxuICAgICAgICBhZGROb3RpZmljYXRpb25NZXNzYWdlLFxuICAgICAgICBsb2dpbmlkLFxuICAgICAgICBnZXRSaXNrQXNzZXNzbWVudCxcbiAgICAgICAgc2hvdWxkQ29tcGxldGVUYXhcbiAgICApO1xuICAgIGlmIChpc19wMnBfdmlzaWJsZSkge1xuICAgICAgICBhZGROb3RpZmljYXRpb25NZXNzYWdlKGNsaWVudE5vdGlmaWNhdGlvbnMoKS5kcDJwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVOb3RpZmljYXRpb25NZXNzYWdlQnlLZXkoeyBrZXk6IGNsaWVudE5vdGlmaWNhdGlvbnMoKS5kcDJwLmtleSB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNfdG5jX25lZWRlZCkgYWRkTm90aWZpY2F0aW9uTWVzc2FnZShjbGllbnROb3RpZmljYXRpb25zKHVpX3N0b3JlKS50bmMpO1xuXG4gICAgY29uc3QgaGFzX21pc3NpbmdfcmVxdWlyZWRfZmllbGQgPSBoYXNNaXNzaW5nUmVxdWlyZWRGaWVsZChhY2NvdW50X3NldHRpbmdzLCBjbGllbnQsIGlzQWNjb3VudE9mVHlwZSk7XG4gICAgaWYgKGhhc19taXNzaW5nX3JlcXVpcmVkX2ZpZWxkKSB7XG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoY2xpZW50Tm90aWZpY2F0aW9ucyh1aV9zdG9yZSkucmVxdWlyZWRfZmllbGRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNfbWlzc2luZ19yZXF1aXJlZF9maWVsZCxcbiAgICAgICAgaGFzX3Jpc2tfYXNzZXNzbWVudCxcbiAgICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFGQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBRkE7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUhBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVBBO0FBVUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUhBO0FBYUE7QUFqQkE7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBVEE7QUFXQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFKQTtBQURBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBS0E7QUFuQkE7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFJQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFLQTtBQWhCQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFGQTtBQVRBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFLQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBR0E7QUFkQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQTdWQTtBQXlXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBd0JBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFjQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQUFBO0FBQ0E7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Stores/Helpers/client-notifications.js\n");

/***/ }),

/***/ "./Stores/Helpers/client.js":
/*!**********************************!*\
  !*** ./Stores/Helpers/client.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getClientAccountType\": () => (/* binding */ getClientAccountType),\n/* harmony export */   \"getAccountTitle\": () => (/* binding */ getAccountTitle),\n/* harmony export */   \"getLandingCompanyValue\": () => (/* binding */ getLandingCompanyValue)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n\n\nvar getClientAccountType = function getClientAccountType(loginid) {\n  var account_type;\n  if (/^VR/.test(loginid)) account_type = 'virtual';else if (/^MF/.test(loginid)) account_type = 'financial';else if (/^MLT|MX/.test(loginid)) account_type = 'gaming';\n  return account_type;\n};\n\nvar TypesMapConfig = function () {\n  var types_map_config;\n\n  var initTypesMap = function initTypesMap() {\n    return {\n      \"default\": (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Real'),\n      financial: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Investment'),\n      gaming: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Gaming'),\n      virtual: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Virtual')\n    };\n  };\n\n  return {\n    get: function get() {\n      if (!types_map_config) {\n        types_map_config = initTypesMap();\n      }\n\n      return types_map_config;\n    }\n  };\n}();\n\nvar getAccountTitle = function getAccountTitle(loginid) {\n  var types_map = TypesMapConfig.get();\n  return types_map[getClientAccountType(loginid)] || types_map[\"default\"];\n};\nvar getLandingCompanyValue = function getLandingCompanyValue(_ref) {\n  var loginid = _ref.loginid,\n      landing_company = _ref.landing_company,\n      isAccountOfType = _ref.isAccountOfType;\n  var key = 'changeable_fields';\n  var landing_company_object;\n\n  if (loginid.financial || isAccountOfType('financial')) {\n    landing_company_object = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'financial_company');\n  } else if (loginid.real || isAccountOfType('real')) {\n    landing_company_object = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'gaming_company'); // handle accounts that don't have gaming company\n\n    if (!landing_company_object) {\n      landing_company_object = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'financial_company');\n    }\n  } else {\n    var financial_company = ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'financial_company') || {})[key] || [];\n    var gaming_company = ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(landing_company, 'gaming_company') || {})[key] || [];\n    landing_company_object = financial_company.concat(gaming_company);\n    return landing_company_object;\n  }\n\n  return (landing_company_object || {})[key];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvSGVscGVycy9jbGllbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TdG9yZXMvSGVscGVycy9jbGllbnQuanM/ZmY3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgZ2V0UHJvcGVydHlWYWx1ZSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50QWNjb3VudFR5cGUgPSBsb2dpbmlkID0+IHtcbiAgICBsZXQgYWNjb3VudF90eXBlO1xuICAgIGlmICgvXlZSLy50ZXN0KGxvZ2luaWQpKSBhY2NvdW50X3R5cGUgPSAndmlydHVhbCc7XG4gICAgZWxzZSBpZiAoL15NRi8udGVzdChsb2dpbmlkKSkgYWNjb3VudF90eXBlID0gJ2ZpbmFuY2lhbCc7XG4gICAgZWxzZSBpZiAoL15NTFR8TVgvLnRlc3QobG9naW5pZCkpIGFjY291bnRfdHlwZSA9ICdnYW1pbmcnO1xuICAgIHJldHVybiBhY2NvdW50X3R5cGU7XG59O1xuXG5jb25zdCBUeXBlc01hcENvbmZpZyA9ICgoKSA9PiB7XG4gICAgbGV0IHR5cGVzX21hcF9jb25maWc7XG5cbiAgICBjb25zdCBpbml0VHlwZXNNYXAgPSAoKSA9PiAoe1xuICAgICAgICBkZWZhdWx0OiBsb2NhbGl6ZSgnUmVhbCcpLFxuICAgICAgICBmaW5hbmNpYWw6IGxvY2FsaXplKCdJbnZlc3RtZW50JyksXG4gICAgICAgIGdhbWluZzogbG9jYWxpemUoJ0dhbWluZycpLFxuICAgICAgICB2aXJ0dWFsOiBsb2NhbGl6ZSgnVmlydHVhbCcpLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXR5cGVzX21hcF9jb25maWcpIHtcbiAgICAgICAgICAgICAgICB0eXBlc19tYXBfY29uZmlnID0gaW5pdFR5cGVzTWFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHlwZXNfbWFwX2NvbmZpZztcbiAgICAgICAgfSxcbiAgICB9O1xufSkoKTtcblxuZXhwb3J0IGNvbnN0IGdldEFjY291bnRUaXRsZSA9IGxvZ2luaWQgPT4ge1xuICAgIGNvbnN0IHR5cGVzX21hcCA9IFR5cGVzTWFwQ29uZmlnLmdldCgpO1xuICAgIHJldHVybiB0eXBlc19tYXBbZ2V0Q2xpZW50QWNjb3VudFR5cGUobG9naW5pZCldIHx8IHR5cGVzX21hcC5kZWZhdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExhbmRpbmdDb21wYW55VmFsdWUgPSAoeyBsb2dpbmlkLCBsYW5kaW5nX2NvbXBhbnksIGlzQWNjb3VudE9mVHlwZSB9KSA9PiB7XG4gICAgY29uc3Qga2V5ID0gJ2NoYW5nZWFibGVfZmllbGRzJztcbiAgICBsZXQgbGFuZGluZ19jb21wYW55X29iamVjdDtcblxuICAgIGlmIChsb2dpbmlkLmZpbmFuY2lhbCB8fCBpc0FjY291bnRPZlR5cGUoJ2ZpbmFuY2lhbCcpKSB7XG4gICAgICAgIGxhbmRpbmdfY29tcGFueV9vYmplY3QgPSBnZXRQcm9wZXJ0eVZhbHVlKGxhbmRpbmdfY29tcGFueSwgJ2ZpbmFuY2lhbF9jb21wYW55Jyk7XG4gICAgfSBlbHNlIGlmIChsb2dpbmlkLnJlYWwgfHwgaXNBY2NvdW50T2ZUeXBlKCdyZWFsJykpIHtcbiAgICAgICAgbGFuZGluZ19jb21wYW55X29iamVjdCA9IGdldFByb3BlcnR5VmFsdWUobGFuZGluZ19jb21wYW55LCAnZ2FtaW5nX2NvbXBhbnknKTtcblxuICAgICAgICAvLyBoYW5kbGUgYWNjb3VudHMgdGhhdCBkb24ndCBoYXZlIGdhbWluZyBjb21wYW55XG4gICAgICAgIGlmICghbGFuZGluZ19jb21wYW55X29iamVjdCkge1xuICAgICAgICAgICAgbGFuZGluZ19jb21wYW55X29iamVjdCA9IGdldFByb3BlcnR5VmFsdWUobGFuZGluZ19jb21wYW55LCAnZmluYW5jaWFsX2NvbXBhbnknKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGZpbmFuY2lhbF9jb21wYW55ID0gKGdldFByb3BlcnR5VmFsdWUobGFuZGluZ19jb21wYW55LCAnZmluYW5jaWFsX2NvbXBhbnknKSB8fCB7fSlba2V5XSB8fCBbXTtcbiAgICAgICAgY29uc3QgZ2FtaW5nX2NvbXBhbnkgPSAoZ2V0UHJvcGVydHlWYWx1ZShsYW5kaW5nX2NvbXBhbnksICdnYW1pbmdfY29tcGFueScpIHx8IHt9KVtrZXldIHx8IFtdO1xuICAgICAgICBsYW5kaW5nX2NvbXBhbnlfb2JqZWN0ID0gZmluYW5jaWFsX2NvbXBhbnkuY29uY2F0KGdhbWluZ19jb21wYW55KTtcbiAgICAgICAgcmV0dXJuIGxhbmRpbmdfY29tcGFueV9vYmplY3Q7XG4gICAgfVxuICAgIHJldHVybiAobGFuZGluZ19jb21wYW55X29iamVjdCB8fCB7fSlba2V5XTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Stores/Helpers/client.js\n");

/***/ }),

/***/ "./Stores/Helpers/device.js":
/*!**********************************!*\
  !*** ./Stores/Helpers/device.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCookieObject\": () => (/* binding */ getCookieObject),\n/* harmony export */   \"setDeviceDataCookie\": () => (/* binding */ setDeviceDataCookie)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n\nvar getCookieObject = function getCookieObject(cookie_name) {\n  var cookie_object = new _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.CookieStorage(cookie_name.includes('utm') ? 'utm_data' : cookie_name);\n  return cookie_object;\n};\nvar setDeviceDataCookie = function setDeviceDataCookie(cookie_name, cookie_value) {\n  var cookie_object = getCookieObject(cookie_name);\n\n  if (!cookie_object.get(cookie_name)) {\n    cookie_object.set(cookie_name, cookie_value);\n  }\n\n  return cookie_object;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvSGVscGVycy9kZXZpY2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TdG9yZXMvSGVscGVycy9kZXZpY2UuanM/Y2I2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb29raWVTdG9yYWdlIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5cbmV4cG9ydCBjb25zdCBnZXRDb29raWVPYmplY3QgPSBjb29raWVfbmFtZSA9PiB7XG4gICAgY29uc3QgY29va2llX29iamVjdCA9IG5ldyBDb29raWVTdG9yYWdlKGNvb2tpZV9uYW1lLmluY2x1ZGVzKCd1dG0nKSA/ICd1dG1fZGF0YScgOiBjb29raWVfbmFtZSk7XG4gICAgcmV0dXJuIGNvb2tpZV9vYmplY3Q7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0RGV2aWNlRGF0YUNvb2tpZSA9IChjb29raWVfbmFtZSwgY29va2llX3ZhbHVlKSA9PiB7XG4gICAgY29uc3QgY29va2llX29iamVjdCA9IGdldENvb2tpZU9iamVjdChjb29raWVfbmFtZSk7XG5cbiAgICBpZiAoIWNvb2tpZV9vYmplY3QuZ2V0KGNvb2tpZV9uYW1lKSkge1xuICAgICAgICBjb29raWVfb2JqZWN0LnNldChjb29raWVfbmFtZSwgY29va2llX3ZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29va2llX29iamVjdDtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Stores/Helpers/device.js\n");

/***/ }),

/***/ "./Stores/Modules/Trading/Helpers/currency.js":
/*!****************************************************!*\
  !*** ./Stores/Modules/Trading/Helpers/currency.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildCurrenciesList\": () => (/* binding */ buildCurrenciesList),\n/* harmony export */   \"getDefaultCurrency\": () => (/* binding */ getDefaultCurrency)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar buildCurrenciesList = function buildCurrenciesList(payout_currencies) {\n  var _ref;\n\n  var fiat = [];\n  var crypto = [];\n  payout_currencies.forEach(function (cur) {\n    var isCrypto = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isCryptocurrency)(cur);\n    (isCrypto ? crypto : fiat).push({\n      text: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getCurrencyDisplayCode)(cur),\n      value: cur,\n      has_tooltip: isCrypto\n    });\n  });\n  return _ref = {}, _defineProperty(_ref, (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Fiat'), fiat), _defineProperty(_ref, (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Crypto'), crypto), _ref;\n};\nvar getDefaultCurrency = function getDefaultCurrency(currencies_list) {\n  var currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var supported_currencies = Object.values(currencies_list).reduce(function (a, b) {\n    return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n  });\n  var default_currency = supported_currencies.find(function (c) {\n    return c.value === currency;\n  }) ? currency : supported_currencies[0].value;\n  return {\n    currency: default_currency\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvTW9kdWxlcy9UcmFkaW5nL0hlbHBlcnMvY3VycmVuY3kuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TdG9yZXMvTW9kdWxlcy9UcmFkaW5nL0hlbHBlcnMvY3VycmVuY3kuanM/MzdmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0NyeXB0b2N1cnJlbmN5LCBnZXRDdXJyZW5jeURpc3BsYXlDb2RlIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgYnVpbGRDdXJyZW5jaWVzTGlzdCA9IHBheW91dF9jdXJyZW5jaWVzID0+IHtcbiAgICBjb25zdCBmaWF0ID0gW107XG4gICAgY29uc3QgY3J5cHRvID0gW107XG5cbiAgICBwYXlvdXRfY3VycmVuY2llcy5mb3JFYWNoKGN1ciA9PiB7XG4gICAgICAgIGNvbnN0IGlzQ3J5cHRvID0gaXNDcnlwdG9jdXJyZW5jeShjdXIpO1xuICAgICAgICAoaXNDcnlwdG8gPyBjcnlwdG8gOiBmaWF0KS5wdXNoKHsgdGV4dDogZ2V0Q3VycmVuY3lEaXNwbGF5Q29kZShjdXIpLCB2YWx1ZTogY3VyLCBoYXNfdG9vbHRpcDogaXNDcnlwdG8gfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBbbG9jYWxpemUoJ0ZpYXQnKV06IGZpYXQsXG4gICAgICAgIFtsb2NhbGl6ZSgnQ3J5cHRvJyldOiBjcnlwdG8sXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Q3VycmVuY3kgPSAoY3VycmVuY2llc19saXN0LCBjdXJyZW5jeSA9ICcnKSA9PiB7XG4gICAgY29uc3Qgc3VwcG9ydGVkX2N1cnJlbmNpZXMgPSBPYmplY3QudmFsdWVzKGN1cnJlbmNpZXNfbGlzdCkucmVkdWNlKChhLCBiKSA9PiBbLi4uYSwgLi4uYl0pO1xuICAgIGNvbnN0IGRlZmF1bHRfY3VycmVuY3kgPSBzdXBwb3J0ZWRfY3VycmVuY2llcy5maW5kKGMgPT4gYy52YWx1ZSA9PT0gY3VycmVuY3kpXG4gICAgICAgID8gY3VycmVuY3lcbiAgICAgICAgOiBzdXBwb3J0ZWRfY3VycmVuY2llc1swXS52YWx1ZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbmN5OiBkZWZhdWx0X2N1cnJlbmN5LFxuICAgIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFEQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Stores/Modules/Trading/Helpers/currency.js\n");

/***/ }),

/***/ "./Stores/Modules/index.js":
/*!*********************************!*\
  !*** ./Stores/Modules/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ModulesStore)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ModulesStore = /*#__PURE__*/function () {\n  function ModulesStore(root_store) {\n    _classCallCheck(this, ModulesStore);\n\n    this.root_store = root_store;\n  }\n\n  _createClass(ModulesStore, [{\n    key: \"attachModule\",\n    value: function attachModule(name, module) {\n      this[name] = module;\n    }\n  }, {\n    key: \"detachModule\",\n    value: function detachModule(name) {\n      this[name] = {};\n    }\n  }]);\n\n  return ModulesStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvTW9kdWxlcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1N0b3Jlcy9Nb2R1bGVzL2luZGV4LmpzPzFmMDAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kdWxlc1N0b3JlIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290X3N0b3JlKSB7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgfVxuXG4gICAgYXR0YWNoTW9kdWxlKG5hbWUsIG1vZHVsZSkge1xuICAgICAgICB0aGlzW25hbWVdID0gbW9kdWxlO1xuICAgIH1cblxuICAgIGRldGFjaE1vZHVsZShuYW1lKSB7XG4gICAgICAgIHRoaXNbbmFtZV0gPSB7fTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Stores/Modules/index.js\n");

/***/ })

}]);